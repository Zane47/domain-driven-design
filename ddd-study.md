# 导言

我就是这个大家最耳熟能详的名字了，就让我们来看一看PPT的内容吧。手机呢，不要像我们这一章课程的目标，我们希望通过这张课程能让大家了解到领域驱动设计是适合于什么样的应用场景。当你在做一个新的项目，新的产品的时候，什么时候你应该采用那个驱动设计？那同时呢我们也希望通过这个课程能介绍，让大家打好基本功。了解一些基本概念，比如像通用语言，像界线上下问，这些都是领域驱动设计里面最扎实，最关注的基本知识。然后呢在整个领域驱动设计的学习过程当中，逐步去积累一些设计模式。比如像工厂模式啊，外观模式啊，设备性模式，这些都是很经典的模式。如何把这些模式运用在领域驱动设计里面，同时呢我们也会分享一些关键的方法论。比如像是用例分析法，四色建模法。界风暴吧这些基本的方法论如何帮助我们这些领域建模？那整个过程当中呢，我们还重点会逐一介绍一些建模当中的核心的概念，核心的要素。对于实体只是对象聚合工厂。酷与服务等等，名字很多，大家不用担心，后面会逐一给大家进行介绍。那除此以外呢，我们课程的目标呢也希望是能够通过一个实力展现一下怎么样从需求的恢复的拆分完整的一个过程。都是在会在整个实例当中呢让大家掌握一些其中的关键工具和方法论，比如像是世界风暴。那这对微服拆封以后呢，也希望大家在整个学习过程当中了解到已经拆分的服务怎么样进行合理的边界，设备怎么样去规划符合服务之间就同步调用啊，还是你不沟通啊，在这里呢我会用到猪网膜。就在整个章节的最后呢我们，我们还会跟着大家一起来看一看，比较常见一些代码结构怎么样实现两年驱动里面的四层模型，怎么样实现符合服务之间的异步的通过消息机制进行沟通。是把我们的命令和我们的查询进行分别一些高级的微服的功能，怎么样在领域驱动设计一个并行实现？非要实现这样的比较进阶的目标呢，其实我们是有一个完整的从浅入深的方法论呢，那这个方法论呢就通过本章概述里面这多土爱好来给大家聊一聊。所以我们会从最基本的滴滴的概念，多少主播讲到一些关键的要素，再然后呢变成一些分层结构的内容，最后呢通过比较复杂的方法论，像实践风波这样的方法的但是这几个方法虽然复杂，我会尝试带着大家手把手从浅入深的逐步进行操作。最终让大家很有信心的可以在自己的项目当中婉转那为什么要把PPT给您驱动设计作为一个独立章节，单独用一周的时间来跟大家交流呢？因为什么？因为滴滴d基本上是面试的风水里当你去灭一个资深架构师的时候，基本上都会问一问你懂不懂呀？根据你对这种复杂架构理论的理解程度，很了解你的知识面，同时呢也来了解你在项目当中到底管控过多什么复杂的系统和设计。当你的系统设计越复杂的时候呢，那些高级理论就越有效，当你做一些简单项目，比如四五个人花一两个月就能完成项目的时候呢，这种领域驱动设计就未必有效了，那同时呢现在什么是互联网时代是以产品和业务为导向的时代，大量的产品经理呀，领域专家都跟我们的it系统架构是进行紧密的配合，那这个时候怎么样才能以产品为导向设计出可别待的可隐身的架构呢？那这领域驱动设计就是能够帮助大家在这方面进行很好价格设计的趋势和发展聊完了这个自然有个好，我们整个章节是以这样的思维来进行的。那首先对每一个论啊都进行概念来讲解，然后要通过类比让大家比较容易的技术和认识这个概念的本质。那之后呢我会在实践环节，那这个实践环节呢主要以两个时间为主，一个是项目管理。对了，代码带着整个我们的那个微服拆分的过程以及里面的每一个实体邮箱。我的尸体啊只对象聚合都有代码，事件主一跟大家讲解，通过这样的一个实战方法和围绕着项目管理这样一套系统。不相信大家在开发过程当中都参与过项目管理或者什么自己参与国际比如像看板啊这样的项目的这个沟通和管理工具，那你这样一个小工具为例啊。说一说我们怎么用领域系统设计帮助我们进行这样的工具的开发的，这是一个案例啊，另外还有一个案例呢是一个电商。那这个电商平台就类似于像亚马逊啊，当当啊这样一种图书的在线，或者是支持图书发布的这种电商平台。我们来聊一聊，以这样的电商平台为例，通常它的这个领域和自己该如何进行划分？还有哪些词语呢？是互相之间情有何的？哪些是提供支撑功能的？哪些是提供通用功能这个章节会逐一跟大家展开，更多聊到了一些关键词，有些听的可能有点晦涩，但是大家不用担心了，我们会逐一进行交流。大家敬请



# 概念介绍

asd

装备上一节我们聊了领域驱动设计的概述，这一节我们来看一些基本概念吗？再看内容之前我们先感觉一下啊。是不是现在也很火啊？你去参加一个什么阿克萨架构师峰会，去q看我们的很多论坛，你都能看到这几个单词领域驱动DVD。那到底他为什么还在讲点什么？那很多小伙伴说不免觉得，就是因为我不懂，才感觉他厉害，背后也许有些选择机啊，这个时候呢你去找了一个白皮书，是吧？one的领域驱动设计。然后你就去找了的红皮书，实现领域驱动设计。看了以后会有什么样的感觉啊，越看越难了，越看越混淆概念。越看越没有信心，那怎么办呢？你就来听飞扬老师的课吧，通过几个小时的的学习，通过一周的实战，就是什么数据信息逐步入门领域驱动设置而不是为了课程吹牛啊我们要讲一讲为什么林区村的这么火他到底什么玄机呢？其实他解决了一个什么架格式的通用问题啊，通用问题是什么？没问题，就是do the right，前面其实已经跟大家聊过，就是把事情做的是你该做的事情做出来，你好，你要把这事做的漂亮。你该做什么呢老是就是应该完成业务和客户的需求那同时呢要把事情做漂亮特

asd

完成业务这个客户的需求，同时呢要把事情做漂亮，特别是复杂的项目，你很难做的很好，你怎么办呢？生而知之，当一个大项目没法做漂亮的时候，我把它拆分有点小块，然后呢我可以代理一个架构师团队，让我的小兄弟们呢小伙伴帮我们把每个小孩可以实现，然后把它拼接起来，不就完成一个大的不大系统的吗？就是冲了这2点，鲤鱼是是你才这么火，在这么有用，因为你需要设计就是一个以客户和产品为导向进行业务拆分的一套价格是思路。好，聊了聊这个价格设置的核心思路和零售设计的业务需求和方案支持，这你还关注一下业务需求，下一节会聊一聊风儿支持的子女啊，进行上下文章，给最简单我们先聊一聊业务需求啊，说到业务需求呢。会让老师又要拿出这张图的，这张就是什么产品经理和我们的客户以及我们财务人员对于同样我不同意这个换壳，根据我们的手机的壳来进行换皮肤的这样的需求，你有感觉很补血的产品经理感觉很容易啊，但我们爱情解决的时候呢，开发人员感觉impossible不可实现，对，大家其实都在说中文的，但是当你这些交流的时候，产品给你是不是你总会改变，他好像跟你再说另外一个国家的诶，是因为什么原因呢？因为什么？因为你们其实说的我认识中文，但是表达的含义不是一个相处的能力，没有采用，有的过去通用一遍。都是两个人沟通的时候啊，你的出发点什么其实是以技术为导向，所以你是技术专家，所以你会有一些什么夹外的术语啊，有些架构的术语啊，有些中间件的这个术语啊。玩什么鲤鱼专家呢，它会以手机为导向，以APP的，我要求你用户体验，我等一下就你们俩说的内容，看上去中文其实是有很大的差距。那我们看一看。在语言沟通当中啊，语言的差距会有什么样的不良的影响呢？不然老师又会尝试，因为经典的例子。就看一看，我们用不同语言进行转化，不同国家的语言假设是非老师讲一句话叫你学会了领域驱动设计的吗，这样就中文，我们让百度翻译帮我们翻译成韩语变成什么陈新英可能不懂韩语啊。非常百度翻译它翻成法语pizza。当百度翻译呢，换成西班牙语啊。好，我们最后再把西班牙语翻成中文，大家猜一猜作文是什么？这很简单一句话，你学开车了吗？不用老师只教领域驱动设计啊，不教老司机开车。好，那这样一个简单的例子呢，就告诉大家什么在我们跨国语言的作文当中，信息失真的是不是一样的？当你跟产品经理说你肯定有方沟通的时候，有多跳的沟通，你有反复的沟通，这个时候大量的信息实现的。好，我们来看一看i领域的到底是怎是真的当两个人啊，都在一个电商平台工作。他们在沟通什么是用户的时候，其实也存在这样的失真的情况，也说用户这个用户体验好不好，也许你在说买家。他听成了他当成卖家了，正好就是和这个时候呢客服人员过来，他会嗯用户就是我我就是客服啊，我就是用户，那还有的我们的什么it人员会认为用户什么是一个卖方的企业，他才是用户。也有的研发人员认为企业里面的员工才是用这些，其实理解都对。原因是什么呢？是因为用户这个名称在不同的业务场景不同的系统里面就是有不同的含义。比如说交易系统那在这里面的用户什么？可能是买家还是卖家？再比如说呢电商平台的聊天系统他很有可能是这一类用户就是克服，再比如说身份认证词的，这里面就严格的界定了。淘宝员工变成user就是用户的，但是他把企业呢第一次上这个时候呢，卖家企业就不是什么类似于交易系统里面的用户了，而是在身份认证自己框里就认为是这样的，只有卖家的里面的每一个员工才是用。所以不同的系统啊，同样的这个用户，这个单词有好几种不同的界定，那一样道理，不管你用英语还是法语还是世界。你没法用一种语言在各个不同的it系统里面都有相同的含义，那这个时候呢我们怎么来界定有比克莱斯兰格维的通用语言是这样决定的。我整个大的领域进行切分，切到一个合适的大小，是这个大小里面每一个单词都有他自己独有的含义，这个含义呢不管你是研发人的i7的这个架构师还是我们的客户经理都能够认可，这个时候呢把这个语言记录下来他就是你这个领域在这个企业里面的什么唯一的通用的语言了，好的，聊完了这个通用语言我们再看一看另外一个知名的概念叫什么领域设计四层模型，就跟我们平时的三层，四层模型呢有点类似，也有点不同，我们来看一下最常见我们一天什么？Mec的这种三层东西或者是一些这种变动三层东西，但领域适用设置的是四层，你昨天看第一层。是不是都一样展现材料它是提供一些或者是一些途径化界面，就对外提供一个封装的接口？那的确呢是应用在传统的应用层里面，肌肤的逻辑也负责一些这个命令啊，一些任务的调度管理呀，一些这个编排策略，这里呢义务支付了一些编排一些消息和秘密机制。把逻辑下放下放到第三层是什么领域？也就是我们后面所有的领域驱动设计的模型里面的核心概念都在这层面的研发和设计。那这底下是什么菜？呃，应该能想到。基础架构的层次包含一些开心啊，持久化，dio相关，没有你的消息队列这些发邮件，认知审计等等底层的所有的进度架构的内容，后来对比一下。也可以通过什么？通过这个控制反转啊，往上放都可以，但中间那层是我们的核心的领域，层是我们的核心。还是因为我现在是调进程应用层里面可能有应用的服务，也可能有领域的，后面会聊到这些服务呢，没法直接抽象成一个一个比较容易理解的领域模型，那这个时候呢可以放在业务处理，而最外面的展现的接口出来最熟悉的。跟住的那种这样一个领域分层模型会影响到后面我们的每一个人么模块里面呢，模块里面的一些因素和摆放也会引起到我们后面代码的分子，所以这里呢大家有一个感性的认知就可以，后面我们会通过代码的分成来真正深刻的理解这个领域设计的多彩，那除此以外呢要讲到DVD呢，你要讲这样一个概念啊，就是到底在什么场景下用的最多，是不是？这里是这种动图的三个小图标，那飞老师其实前面提到过卢包子一种什么？一种um二架构设计图的一种方式，这里面借用这三个图标，左边表示个用户相关，首先表示跟逻辑相关，右边表示跟数据相关啊。跟用户相关的设计方法叫什么？通常我们叫做UI非常聪明的一种方法，一切以用户体验为导向。那这种也发方法比较适用于什么我们的移动端的APP，很多移动端APP的厂商，它都是以这个移动端用户体验你一个一个的控件。为主导进行开发的，然后呢在控制后台的应用服务器该如何去支撑前端这些控件和极端这些小模块，那这种设计思路比较以前端为主导的。Ui我知道了，这是四个，还有你这种设计思路呢是以中间逻辑为主导的，比较经典的就是滴滴滴滴滴滴这种思路。这个特点它是一切就是以中间的这个逻辑抽象为主，它不是那么关心后台的数据存储。也不是那么关心，是吧？用户界面展现，他把你的用户的所有行为用抽样的逻辑，把这个逻辑分成一个一个一个一个小单元，这些小单元实现是我实现他的逻辑的功能的这个完整性，通过这个逻辑呢来驱动后台的数据的存储，也来驱动前面的页面的角色。就是不一定那后面的你后台数据为主体的，就是我们由ml的场景的设计思路。包含崔老师前面的什么架构？是绘图章节跟大家画了很多图，是不是这些图里面你去考虑一下，是不是有很多地方都有什么第二头的影子？我还有我们不干预，包括我们的这个数据概念，以及我们前面的一个一个功能模块组件里面，其实最后落地什么都是落地的数据，对所有那些土其实很多时候都是考虑。我要处理什么样的数据啊？我这个数据的传递过程当中应该怎么处理呀？我在最后落地过什么这个怎么处理的？我觉得数据的处理根源一个一个你应该怎么样在我们机器上进行摆放？所以那些都是偏数据的，而我们领域驱动设计的抛弃数据，抛弃界面，重点在看见我逻辑。所以他适合什么样的产品？适合这样三个场景，一个是产品导向，这个产品不是说用户界面导向，而是整个产品的业务逻辑，比如说我要设计一套宠物的什么管理系统，这个从管理系统里面有什么样的逻辑呢？我是不要让宠物洗澡，我是不是要让宠物吃饭还监控出来通过一些中间逻辑层和味道上这样的一个导向产品通常的DVD还有一个特点就是适合中大型项目，就这个项目很大，到时候呢就是我们非常两三个人美好在两三个月时间之内完成，那这个时候呢我们进行拆分。等拆迁了，我们不能够随便上一个价格是从无到有的去进行产品，因为太复杂，这是我借鉴一些已有的思路，所以我找一些相关领域的思路，这些领域默认就有什么，以及拆分成比如说20 30元微服务。过了拆分成得个十几个。那这个时候你就参考这些词语，我何的架构设计进行你自己的每一个核心的研发，同时很多的支撑力啊，很多的这种通用率啊，可以直接来借鉴这几个概念，我们后面会详细聊，就是一阵子碰到这种中大这个项目，你可以考虑这种PPT已经驱动设置。那还有一些呢就是当前我们什么经济啊，中国也就是很多内容啊，其实我们通过比如像阿里云的平台或者通过一些其他的这样的这个我们的后台的平台都已经完成包装好了，比如像支付交易有一个交易网关的平台，比如像是我们的商品订单库或者商品中心，对于包装好，你拿来用就可以了。那这个时候呢你可以把这些领域变成了变成外包的，然后你只要重点关注你整个企业里面最核心的一些资源。通过这种方式是吧？没有解脱你的什么开发的工作量减缩短点的研发周期，那这种时候也比较适合采用DVD领域去。好，那总体来看就是一要跟业务逻辑相关，二呢下面它非常大的，参与人员非常多，时间周期非常长。同时呢你能借鉴到很多外面的中台啊经济的那些现有的一些业务逻辑的这个资源，或者是一些服务，那这个时候呢你可以来考虑使用。除了这种就是有复杂的，大的能界定的项目以外，如果我们是一个小企业里面我平时用不到，那这个时候我还有必要学他吗？还不然哦我们来看一看，其实用的最多的时候不光是做研发，做设计的时候还有什么时候用户？升级数字汇报的时候，年终汇报，今年其实我所有的价格设计都很简单的，我用m2很快画完了，那这个时候甚至汇报的时候呢，或者数据汇报的时候，我就把我以前做的直接说出来嘛，其实文档里面呢再上去不这上去不是很酷炫，对吧？然后呢领导层一看还是这么传统的老三样，这个价格是好像没有什么发展前途，所以在这种很多的讲究都会包装一下，你把原来很简单的微博拆封用领域做这些简单包装一下汇报你们就是我采用领域输入设计什么什么什么概念。怎么样怎么样？具体世界台灯怎么怎么样进行架构分层，这个时候呢就苦去了。那还有一种产品也用了很多就是什么亮光式，没有这个亮光，就是当灯光打到你身上的时候，比如说什么？比如说在整个公司里面进行一次，进行一次，是吧？就是那种技术竞争大赛。PK小技能更高，这个时候也许你有五分钟，十分钟的有什么演讲事件，来聊一下你整个架构设计一个新的功能，这个功能怎么样去改变你的整个企业的这个平台？怎么样的一个效果？同时呢你会聊一聊我用什么样的方法，如果你说我是滴滴来进行开发的，怎么样进行拆分的，这个时候呢就会比较酷炫。还有什么时候是高光识别的？比如说我们有一些这种大型的论坛，或者说一些大型的社区的这个演讲机会，这个时候呢你把你所做就绝对包装一下，也许就行了，高大上一些了吧。好，那除此以外呢，面试过程当中也是滴滴经常出现的前几个本人不会是吧？前去了我们PK比中介剑PK我微信JAVA的基本功能PK一些并发的功能，这些功能其实跟我们的灵敏度是没什么关系。但是在后两个尤其是架构是面试的后两轮也很有可能碰到了研发总监，很有可能碰到首席架构师，这个时候他们都会问滴相关的一些理论啊，一些项目经验，这个时候呢请把故事准备好。把它包装的足够充分，同时你要对KTV的基本知识了解的不够深刻的穿帮啊，好。还有最后一个情况，我们什么时候用例很多就是后继而播放，当你要为未来的面试要为高光时刻要为值准备的时候，为什么不把你当起来一个项目直接用滴滴跌的思路进行处理呢？我们什么的不是要完整的用光的，对吧？就在大学下。是我们才能完整的用地的完整方法了，但是在小一个项目的时候，我们可以检查一下第一的理念，比如说嗯事务处理的理念，消息机制的理念。读写分离的理，还有以产品为导向的或者stormy世界风暴进行微服拆分的理念，这些都可以用在我中小型项目里面啊，大家要记得只有后期才能播放。，下一章简单，我们会聊一聊领域驱动设计里面更合适的一些概念，比如像领域啊，子啊，边境上下文啊。大家敬请期待。嗯嗯。



---

asd

需求要落地的桥梁构建IP新来或是张飞扬上一个章节，我们聊了聊领域驱动的一些基本概念，比如像有language。通用语言，比如像四层的领域驱动的模型，还有什么企业里面和什么时候我们可能比较常用到领域驱动的概念和方法。在这一章节开始呢，我们要真正正正去聊一聊领域驱动里面的核心概念，有这样领域子域界限上下文。首先呢看一看领域和子域吧，然后呢我们逐步延伸到这些上下文。领域什么领域是一个赚钱的机会，比如你看到外面一些二手商品很火。发个商品这个大蛋糕我要切它一块，那这就是要进入到这个领域的，要进入一个领域呢，你不能光开发一个二手商品的交易能力的东西。那这个东西只能完成交易。要是问你没有收费能力，你没有支付的能力，对你不能完成正常支付，如果你没有人力资源能力了，那你就招不到员工，那你的平台就没无穷大起。做一个正常的平台，是不是包含业务的能力呀，后台的支撑啊，金融的结算啊，物啊，信息流啊，还有什么资产流啊？都要能够全部通。那这就是一个完整的利益，也就是说你要具备一个完整的在一个市场里面赚钱的能力。有了这个能力你说，你说搭建了这样的平台，就进入了这样一个领域，二手商品其实啊交易平台有点空泛，应该是更详细的，比如说二手车市场，这是一个领域。二手袜磁场也是一个领域，但是估计没有人愿意买，对不对？那除了这种领域以外呢，我们前面什么在架构是实践课程在这个我们架构图的绘制过程。跟大家聊过，对吗？宠物的托管领域，这也是一个领域，虽然很小，是吧，很多时候你可能就是开一家宠物托管店。三级也可以做成，连锁也可以做成。可以做成电商品，这些都是一个一个的领域，在领域里面才有子域的概念。驴叫做对面的，因为那紫玉呢就价格上差不多就是比领域小一些的，比如说二手商品交易这样一个平台里面，你是不是要付钱了？有支付，同时呢你要把它商品列出来，是不是有一个产品或者商品的资源？还有呢你要有哪些用户是买家？哪些用户是卖家？是不是用户认证啊？他的身份认证啊，他的权限设置啊也有一些这些集合在一起才能承载这个领域，对吧？你如果一个领域只能进行订单的存，没法支付。没有产品信息，没法让用户登录，也不知道哪个用户买了什么东西啊，这几个订单其实是无意义的，对吧？所以子一合在一起，形成一个领域的能力领域，对自己提出了一些要求。后面我们可以看到可以子鱼里面还分好几类啊，我们这里先快速的过一过，有领域切分成词。比如说紫玉以后的很容易就这样一个界限上下文什么是借鉴上下文呢很简单把你企词，支付词语是一个要解决的问题，那我这里面呢比较常见的方法就是什么？就是把支付值用支付上下文来实现。所谓上下文是什么？就是有一个系统，这个系统能跟别的系统打交道，对吧？这个context。那这个呢其实就是一个环境，这个环境跟别人打交道，他自己有一个上下文的关系。这种这种环境的一个界限上下文。那紫衣跟今天上下我们更好的这个定义就是职业提出一个问题，比如我要提出支付这样的能力该怎么实现呢？我搭一套支付的平台，这支付的平台会跟产品信息打交道，会跟个人的这个用户认知性是达标的。那这样的一个跟别人打交道的一独立的场景的里面的所有的功能合在一起就是支付上下文。工人解决的问题就是要实现能够支付啊，所以子玉提出问题，谢谢上下文呢解决问题。我们下面看一个图啊，深深深圳去感受一下这个词语，还有他的界限上下文。那这张图呢是来自于这个我们一书里面，我是截出来，那结束完这个图以后呢，我以这个图的例子跟大家讲一讲啊，比如上面啊核心玉，对吧？它有一个借鉴上下文。那很多时候呢，我们说电商平台就是核心一样有我们的产品信息，是不是很抑郁啊？我们的这个交易支付的个什么订单能力是不是合成医药物流是不是也是一个核心域？这些都是核心域，它自然就对应它什么物流上下文，订单上下文。赔款产品上下问，那这些是核心的支撑，这个核心呢其实也是要有一些词语的。比如你对用户有信息了解，但是你怎么知道这个用户更偏向于买那种贵的汽车，还是买那些便宜的二手车的？你要对用户行为分析进行处理吧，那你户型为分析的结果，你不能直接变成钱，你不能把用户行为分析结果卖给其他公司，这是违法的，对不对？你们公司里面所有的用户行为只能用一个本公司里面去对用户的产品进行推荐，那这个时候呢这种用户行为推荐系统是内部支撑子。他不是直接赚钱，他是支撑我们合体力去赚钱，就赚钱的能力在于心，要支撑他是支撑自己。那同样道理啊，比如还有什么？还有用户违规分析分析用户经常是吧是一辆车是100万的，他都卖出1000万的价格。虽然是个好事，是吧，是个劳斯莱斯豪车，他卖1000万好像就是有点不太正常，而他每次一挂单下面就有人买，那干嘛？还有可能在洗黑钱。这就是对他后台的分析，但这个并不能够，我认为个人洗黑钱我就可以去要挟他，嗯，一起可以写作业，我要提成，我要怎么怎么的，你就违法了嘛，所以就自身意识不能够直接赚钱，但是他能够把这个洗黑钱的信息提供给核心。讯就是什么禁止他这买东西或者能把它列入到什么带观察名单里面，他这种支撑去支撑与合计他除了支撑以外呢，还有一些很通用的内容，我们叫它通用。比如说用户认证，用户认证通常是每个电商平台都有，所以你不需要自己开发，因为你完全可以外包，可以买一些这种现成的。比如像很多的知名的，像什么奥斯零ox这些都是知名的一些这个用户认证系统，你可以跟他对接，在国内的很治愈的，想什么叫阿里的用户认证系统或者是买腾讯的就或者在系统你完全可以跟他对接，是吧？你可以很方便的让六户用微信登录啊。啊，高保真录啊，支付宝登录啊，这些种种的用户登录系统，因为什么每个企业都有，所以你不用自己开发，你可以抛离到第三方或者开源方法来实现对这种预通知，什么叫通用的自己？一他不会为你赚钱影响所以呢你可以用最简单的方法来实现好聊我的这样几个词语呢，其实一个词语里面要通过一个一个的什么界限上下文来真正的把它落地。那我们下面呢就来看一看界限上下文的概念吗？这些上下文呢不光是什么要把它围起来，是吧？实现它其实呢每一个这个什么上下文的概念，就是我的这个界限跟别人界限之间是有沟通的，那我们看一张这样的图啊。这张就是界限上下我很经历的一张图，也是老外的一个疏，或者说是一个网上文档。孙老师这里拿过来哇，这种这么多英文单词好难理解啊，那怎么办？方便大家来沟通和理解呢，那飞扬老师尝试我们把整个领域驱动章节用一种方法来，然后我们把这个方法贯穿到底，好不好？通常界限什么是一个围着的东西，很容易想到围墙，是不是？那围墙里的世界有多的监狱也是的，学校也是，那我们还是举一个大家更熟悉里面的。监狱大家不说是不是，那我们就去什么去学校的例子吧，好，那界限上下我们包含后面的所有概念，我们都尝试用校园生活来跟大家分享。好，最重要强调一个一个学校可能它就是一个什么病，这个紫玉里面呢他是什么？比如说一个学校比较复旦，什么样的内容才能代表这个服务站的有什么？他的福断的围墙以及他围着的所有的校园生活。这才是什么他的代表，所以这件上线我们围着的内容就代表这个词语的功能好，我们上手呢，先不以复旦为料，我们先举取另外一个大家更熟悉一点的上海的这个高校。最高端是什么上市的上海培养什么各种各样的细菌，各种各样的电影名字的摇篮，相当于对于北京的北影。的上市呢，这个校园是这样的，一个围墙围着的这样的生活，他呢什么？感觉这个上市学校的学生好像有点空啊，在这个这电影之余呢想什么找其他的学校来进行沟通和联系，好，那这次呢找到什么上海交通大学交量？那这两个学校呢就是什么围着的两个围墙里面的这些学生还是常识什么？通过几个班级的互动进行了联谊。那这个联谊在这里呢有个关键字叫u还词叫u，还有一个du叫叫downstream。上有个u下游叫d上游提供服务，下游什么接收服务？上游的提供什么服务呢？联谊服务，这里拍了很多女生出来说要找男生联谊呀，我们赶紧来吧。下游的这个交代就是什么是趋之若鹜啊，两边的交流的非常之欢快，这个是什么？就是供应者的需求者的关系的，我有需求，我有供应的，一个供应一个19号就交流起来。教育完了以后呢，大家回去总计一天的交流，结果上学的学生总结了一下，我们虽然搞得游戏很尽兴，但是我们总体算了一下今天一天的成本的花费，基本上呢有一半都是我们买单的。他教他的学生。情侣生出去吃顿饭不可以吗？我们搞个联谊让你们买单不行吗？这样不行。上次我们搞联谊不找交大，我们换一个学校，但是呢这次一定要保证了所有的这个联谊的内容是我们的，所有的买单都是他们的。那下次他们会找谁的？哎，找到福的好，复旦终于充满了我，但是最下面这个大圆圈。他这么也是一个211和985的最知名的搞笑，否则你有一个边框啊，也有效率，这个校园里面有很多血腥。这两边的学生呢这次进行了一个什么进行这个脸，这次呢上市就提出来了所有的活动，不管你是真心话大冒险还是杀人还是狼杀，由我们来定，场馆由我们来定，然后呢具体到了买单环节，我们会指派相关的人进行什么？进行大冒险，所谓冒险就是买单，每次这种大冒险的任务基本上都是复旦男生唱的。所以呢一天弄完以后回去这个上游啊是很舒服的所谓的这个情况。下游承担所有不好的地方都有下游坑，所以呢上游的复方提供的很舒服，不用管下来的，感觉我们能尽情发挥，那下一叫什么叫？完全处于被动被控制这种感觉，这复旦的学生回来又说嗯，上市这次交流感觉是不错，但是我们好像全程被控，而且我们还发现一个问题啊，盛世的学生看上去长得很美的，但是什么神级很厚端化妆很好。他根本不知道我们一天下来这个接触的女生，她去完妆以后长啥样子我都不清楚。那这个时候呢福袋就想出一个方法，下次我们还搞点，我们不早上我们换一个学校也找一个女生很多的，因为我男生多嘛，所以我们出现在男女加大量干活不累，但是这次搭档我们提出要求了。比如额外要求叫什么？全面叫氨基反腐层。这对方的服务不好，我要改变有什么不好呢？就是你来的女生化妆化的太多不好。来了以后呢，每次跟我联系先进我们学校来一次嘛，来一次什么叫卸妆大会，你来了以后先把妆卸了，然后我们怎么用真面目进行这个练好，那这次找到什么谁就能找到华师的。是吧？培养教师的摇篮也是那种也是美女如云的学校，这次联谊呢就搞得更加欢畅，为什么？因为什么大家是将心比心的？所有来的这个华师大美女都卸了妆，跟我们为什么很淳朴的，不但难度进行沟通。啊，将心比心，这个安静就是不管你说好还是坏，我都会去处理，处理成跟我很般配的，大家都很原生态状态。这样的沟通呢就非常畅通，那到这两个学校沟通完以后呢，我再说下次我们找女生的原因还要找画师的，但是呢我们除了跟你学校联谊以外，是不是还有一些其他的合作？比如说什么？比如说老师跟老师之间的交流，交换一些老师，然后呢学生跟学生之间的这个化学教的都上课。毕竟我们还是以学业为主有关我们两个这个边界或者两个学校进行紧密的配合，我们交换老师。那这个时候呢不断开拓这样一个远程课程，学员远程学院这个学院的学生啊，他们在那远程函授角隧道容易，所以他有他自己独立的边界。但是老师经常在两边跑，给他们的交换了一部分的老师，所以他们有一个更加紧密的什么合作伙伴的关系就比这种供应方更加紧密的，就是我分析功能，你其实都知道我未来几个阶段会开发什么样的功能，我会请求不要老师你都清楚。这种关系更加紧密好，这种紧密的关系弄完以后呢，湖南感觉还不够。还不够什么，好像我整个复旦教育缺少医学院这样一个很核心的大学院。那这个时候呢，上海最好的第一代就进入他们的这个视野范围了，那一大的学生的未来都是什么？都是各个医院的这个主页的医生。甚至第一大的教授都是各个医院的主任。那我们怎么样怎么样第一代就是最好的。我们数学怎么我们索性开一辆校车在我们两个校区学校之间。同时呢我们把第一章定成复旦大学医学院，好不好？那这样病完以后呢，所有老师就互通了。我复旦的教授教授是第一大的什么教授和主任，所以呢以后呢学生去看病的是不是更加亲近一些？这种合作伙伴以后呢非常紧密，要要共享内核，也就是把最核心的内容我都给你共享，你开发出来的东西就是我的，我看到这些东西你的你的这个主任就是我的教授啊也也可以是一种驱虫的啊，但驱虫为上级的被他指挥来指挥去也可以是那种什么，我对你很不信任，所以我要让你现招的这个关系以及呢紧密的合作伙伴和完全共享内核。有这么多不同的关系。我们通过文字来进一步来看一看啊，我们在这些观点上面再加两个最极端的。一个最极端什么是完全分明，比如说刚刚没说的交大跟复旦就是完全分离，是不是？是不是互相竞争的关系你你的服务我不太信任，我处理一下他比较适合嘛，老旧的系统，就是当我有一个新手搭建的时候，我要去跟老师系统沟通，那这个时候呢把老六系统的API调用完了以后返回去，我不信任。我处理一下，我翻译一下，那这个处理过程当中呢不想这个调用关系呢，采用什么叫open host services ohs？那比较经典的这种服务的是什么？是restful API是八PC，比如像PC或者是消息队列这种方式。两个应用之间或者是两个什么微服务的这个界限上下文之间的沟通。那他的沟通的内容就是叫public language，比如说xml，HTML。或者是把这些文件变成我们的那个序列化以后的内容都是一些发送的内容，通过标准的结构和发送内容进行互相沟通，在沟通过程当中我们可以尝试去加入一些卸妆的环境。这是第二个，第三个我们也聊到了，就跟随着完全被什么被上市签了，走了复旦被上司侵者。把整个活动就变成买单环节，那就是跟随什么供应商关系呢？就是前面说的是吧，上期跟交大之间非常好的一种合作，但这种合作还是若即若离的。因为我们毕竟没有很强烈的纽带关系，也就是一个供应商跟客户之间不是很常见的，是消息队列的两端，对吧？供应商和客户。共享内核前面也说了，就是复旦把第一大整的大学并到复旦里面来成为一个公共的的学啊，这个学院之间老师跟他的主要这个是其他学校的老师，对，有一定的互通。甚至于承认两边的这个司机这里是什么？是我们的主任，那边是那边的教授，是吧？那最好的一种状态是什么？是合并在一起，两者不分家，但这种情况下其实就不认为是两个学校，因为认为是一个，就比如说我们服的把一达合并完以后呢，我们不是两个小区，我们甚至于把学生都在一个小区，一个围墙。那这个时候其实我们不认为是两个系统，对吧？它其实就是变成了实现一个词语的一个界限，上线文一个学校来实现一个学校的名声，对不对？好，聊完了，我们的领域也聊完了，还通过学校的这个生活来聊了聊界限上下问。那下一个终点呢，我们尝试给大家看一看后续内容，我们所有的代码会围绕这样一个叫敏捷项目管理系统。什么样的是明天项目关系？大家敬请期待。





---

嗯

这样的需求到落地的桥梁个性i新兰，我是张飞扬上个章节呢，我们聊了一下驴子界限，上下完看了看围墙里面的校园生活。那后续呢所有的我们领域设计的内容都会围绕着校园生活进行类来进行沟通，那同时呢我们还有一些圆满的分析。那这些源码呢都会围绕这样一个项目，敏捷项目呢，看看叫什么？叫我如果大家在互联网公司应该很熟悉我们是什么每天都有一些什么代码的这个发布。那这些代码的发布的过程当中呢必然有开发，有项目管理，有测试，那这些所有的任务会通过一套大家我是工具可以是个看板。可以使你时间每天的例行的战会等等的方式来进行管理，所以有些这个系统呢是电子化的，比如像下面这种，它是一套电子化的项目的管理的流程的工具。他有什么代办啊？进行啊，已完成啊一验，说那可以追踪每个任务。每一个任务是吧？是不是被某一个员工给卡住了等等，那也有一些是什么是非电子化的。有着加一个白板在上面天气标签或者便签啊，同时呢每天去移动的这个变迁的位置来表示不同的状态来更新。如果大家大家个工具很熟悉呢，我们会直接就跳到下一个页面，我们聊一聊怎么去设计这个多少钱？如果大家对这不熟呢，也可以去跳到后比如说张姐，你给我里面会介绍经典的应该用了哪些工具？对，我们这里要给大家看一下，我们国内的肌肉是国外的，这个比较经典的这种项目管理公司的，国内的有很多。你就随便找一个，大家看到这里非常我点了一个是一个机器的啊，很多人点的。不是，我的客户这里好像有点想他们给我这个照片，是我会用一个这样一个账号给我的账号的登录，这就是靠账号密码，记得我们可以跳过这个你看看，它主要跟你说。怎么点进去就看到什么？这里面可以设计一些自己的项目，然后对于每个项目呢，我们可以解决它具体的任务。这里面就跟刚刚一样，是啊，有很多种状态，当你一个任务进到下一个状态，你就可以往下拖拉就可以了，同时呢你还可以对每一个任务进行修改。可以自己添加负责人给自己调整优先级，可以在这里重新设定工具，以及呢把它跟某一个发布的里程碑向管理或者跟某一个冲刺的这个研发的那个活动相关联。同时我们在下面还可以考虑很多的评论一种hello，你好等等，是吧？还可以在评论当中呢，通过什么多个账号进行互动。以及针对每，我们也可以什么跟他进行私聊沟通等等，在这里面可以看到的，因为正常的项目管理系统应该具备哪三项功能啊？首先用户的登录，是吧？另外的人和人之间的一些沟通啊，写作什么是一些文档的共享啊等等这些功能。还有呢最关键的是什么？是我们任务的管理，在一个项目里面有很多任务。我可能要在一周到两周之间完成冲刺以及在指定的时间里进行发布，同时我们可以在这个任务当中去设计一些优先级呀，设立一些到底谁来做这个任务啊，以及在自我的状态很方便的在界面里面进行拖拉。所有这些功能呢，我们都将通过领域设计的代码来实现，好重新回到我的PPT。我们看一看我们会设计成怎么样一个领域呢？就是什么死光项目管理领域，其中有三个子域。一个词语什么是最关键的词就是敏捷项目的实际的管理的任务，看板的管理，那这样一个词语我们用什么？用一套解决方法，用一个解决方案来完成，那就是敏捷，项目管理上要，问，他，跟，他，对应，的，呢，有，一个，什么，用户，交流，沟通，的，字那这个那这个支撑他，所以我们认为什么是毕竟属于支撑起协作上下文，还有一个很通用的词语啊，你可以是外包出去的，那就是用户的身份与访问认证的这三个词语的分。他自己独立的上下，我也就相当于三个学校，不是三个学校之间怎么沟通啊，随着上游谁是下雨了，是不是身份认证是上一个所谓的什么服务都要来自于他的，因为每一个应用的业务的API都需要有什么有token的验证，有身份的验证还能够进行下一步。好，那他对我们的协作上下文提供了一个服务，但是协作创新我不是很认可，嗯，你要过来搞联谊呢，我需要让你卸妆安静，让你卸妆对你的什么的响应呢？我们就已经处理以后呢才认为是什么。其的上下文是可以接受的，然后呢进行用户的沟通和处理所一样的道理，当了一个什么敏捷项目管理的时候呢，要去访问这个人，是不是要完成这个任务啊？看看这个人的权限的时候呢，也跟身份认证相沟通，他是上有的。那接受这个服务的是下游，下游仍然不信任他，你有个一样的道理的协作上下文和敏捷项目管理之间支撑与通常是实际上这个主要的这个玉呢什么是下游？那这个下游呢也会对上游它有一个ar的方式来实现什么？来实现我们的一些数据的转移，一些转换和一些翻译工作，好辽外的三个边界上下完2万三个学校，我们就来看一看在这三个学校当中发生的故事吧。Shine一节就会逐一介绍三个关键元素实体对象和聚合，但先猜一猜，这三个元素在校园生活里一个承担什么样的职责？大家敬请期待。

----

走进i新，我是张飞扬，那前面两个小节呢我们聊了聊校园生活这样一个界限上下文，还有呢敏捷项目管理这样一个什么实操的这个系统。这节开始我们将介绍三个新的概念实体，实体是对象和聚合，然后分别的应试到校园生活里面，看一看在校园里面是什么样的一个东西来代表实体。什么样的概念来代表是对象，又是什么样的概念来代表聚合？那下一节呢我们就会通过敏捷项目进行实际的代码展示。看看怎么样写段代码来做到写出一套实体，写出一套处对象，写出一个聚合的。

几大要素，实体实体啊，在校园生活里面是什么？就是你我啊每一个学生。我们回顾一下啊，我们当年录取啊，我的学生呢第一个拿到的是什么诶？就是这个学号。一个学生必然有学号，那一个事情呢，最关键的就是唯一标识。这个学号可以什么？可以是人工提供，比如我们在登录一个什么软件系统，让我们输用户名，我输这个用户名他搞是什么？此用户名已注册。请选择其他用户名，那这个时候我猜测这个业务系统它的用户什么是用户名作为唯一标识的登记。就当我们入学的时候，不管你是哪个大学，都有很多张三也很多例子，我恰巧你的名字是张三，会不会说诶张三这个用户名已经被别人注册，请你换名字啊？哎，不会他会什么？他会有学校给你生成一个用户。这是第二种方案，就是应用生成。通常可以用的ID折扣，再给你递增的方式或者随机的方式在生成一个用户。我们的生存的这个学号是做什么？就代表我所有以后呢别的老师不认识我的老师或者学校的教育领导找我的时候呢就很鞭炮了。96531学生在不在？你怎么怎么怎么又记过一次，对不对？那这个学号就作为这个实体的唯一标识，我们除了用户生成啊应用生成以外呢，在我们的持久化，比如像Oracle买c都支持什么？生成一些这个自动化的比c的序列值。啊，拿这个序列值，这个值呢作为为什么我们一个表的主键啊，或者是作为一个整个用户的这个或者一实体的唯一标识啊？这种唯一的值也可以作为这个实体的唯一的代表啊

然后呢他又重报考这个学校，又重新变成了新学校，然后呢又发生了跳级，最后呢成功的毕业了，他整个学籍呀是不是有一个生命周期的管理？同样道理啊，我们拿一个实体订单为的订单有什么？有下单。也有待支付，已支付在后面的什么一种风险审核和已审核。还有什么代理业和你履约和定位解锁等等不同的状态，这个状态一路可以变化下去。这个订单作为实体，它可以变化其中的内容啊，而且它会有完完整整去管理的内容的变化的过程。这就是实体价值。实体最后呢要聊一聊什么？实体的唯一标识是实体的观念，也是实体与实体沟通的一个名分。就比如两个不同班级的人啊，互相之间叫名字的时候，因为叫不出名字，但是我可以知道你的学号。55 6 7 8 1，你是6781，我看看你们知道，哎，65781。怎么怎么？对吧？也许你叫他的名字，但你可以知道他的学号，那同时呢聚合的聚合之间也是通过实体比例这个唯一标识的作为什么整个聚合之间沟通的纽带？这个我们号码发过来，这个说的好，聊完尸体以后呢，我们先聊一聊，第二个概念是对象。他对象在校园生活里面相当于什么？相当于一本书去学校读书是什么？就是学生来读书。就是什么实体和只对象的故事，你看看书啊，这个只对象是怎么样来进行操作的呢？首先他没有标识，表示你买了一本叫领域驱动的书，这本书上不有个标识吧，就是说这本书就是全球唯一指定书本，不会吧？这个是通话，一发现忘记。你是了其实你本，然后呢如果你上课的过程当中发现这本就不好的扔掉，再买另外回去。没有，老师开发了什么？杨枝领域驱动设计资本水可能给他前面那本，我头上那本没有驱动一些更好。同时他也是可复制的，当你感觉这本书很好的是河南去印刷厂的复制一下，然后给全班同学都发一个。大家不都是都有同样的书了吗？那其实他不是我一的，另外也是可替换的。都上课的时候，你发现自己说表怎么办？从隔壁的同学的那个包里面拉一份过来，放自己包里不就好了吗？就替换了只对象，就是很容易复制，很容易替换，可以随便删除，也可以随便创建。为什么要引入直对象这个概念？他不就是一个普通的内容吗？这个内容就不需要保存了，随便删除了。其实只对象是跟什么跟对象一样的，我们的这个对象里面什么是有复杂性的？你只对象也是啊，他作为一个对象，他是不是光有一个值？他通常有很多个值。比如100元，你看看这是一个值还是两个值？100元其实里面有两个概念，一个什么的。的单位是圆，这个圆就表示人民币的汇率对它是一个复杂的概念吗？另外还有一个概念是100，就是数额就100，加上原才表示我们真真正正在整个订单过程当中实际付的钱。就这两个元素合在一起成为一个制度下100一样道理啊，如果只是说我在西湖区读书，虽然西湖全国只有一个，全球也只有一个，但是西湖区你可以查到地理位置啊，全球至少有五个以上，很多城市都给人定了一个西湖区。那你到底是哪一个西湖区呢？你要说清楚，浙江省杭州市西我觉得不太要知，都知道了，是不是真真正正的写不出来？好，那这就是一些复杂概念或者一些复杂的元素和在形成一个唯一的指责项。你这个值对象呢都有唯一就是什么，但是你不要这么把删掉就可以了，你很快可以重建。他没有自身的标识，不像学生这样，学生就把他枪毙了，是要负法律责任的，对吧？说枪毙的是不需要付法律责任的，好，最后呢只对向通常用来做另外做度量和描述。通常指对象就是在描述实体，喜欢看领域驱动设计的张飞扬老师在这里是用这个对象的描述这个实体。好，讲完了视频，完了只对象下面讲一讲，跟男的一个点，一个聚合。聚合一直是领域驱动设计里面比较难解释的一个概念，非常老师通过这样一个名词来解释。奔驰有学校，有学生，也有书，学校生活里面还有最和平的什么是班级吧。班级有什么特点啊？班级通常整个班级的学生一起行动就上课了。就是通常一帮学生一起去上学，节课好跟隔壁班级什么打篮球比赛是不是我们班出五个主力？其他的嘛，所有人在那边当拉拉队啊，一起去，去同时打架了，当班级和班级打架的时候，不是一个人去对挑别人舞。二十八班全部男生一起出去就围殴对方班级的学生，哎，这就是这样，就是事物的一致性，所谓事物就是上课打架，打比赛，联谊，这些时候呢通常是整个班子一起触动。那我们平时呢我们在在这个实际操作过程当中呢，基本上大部分的复杂需求都是什么有事物概念，你要处理一个四五十的这个事物的整个过程里面的所有因素的同时创建，同时修改。同时删除这种视为自身的内容呢，就可以放在一个班级，一个区分进行处理。那这个处理过程当中呢，既然要聊到这个班级班级沟通啊，通常都有纽带，不是一个班级自发只打另外一个班，主要是什么班长发现我们班的张三同学。今天好像什么状态很差，你就问他了，怎么回事？对我女朋友被隔壁班级李四情况。好，我为你报仇，然后全班男生一出动力去打理一次，这个整个过程当中有的去学。这颁奖的就是聚合分，一个聚合里面只有一个班长啊，只有一个许可证，这个聚合跟代表性的班长是整个班级去进行什么？联谊，打架，打比赛，有时候呢我记不住这个本，计算机是一般我不太记得住。但我知道这班长的那个张三丰好，怎么叫这个班级啊？张三丰的班级又把隔壁李四的班级给打了，好，那就很简单。所以呢通常我们把整个聚合的唯一的那个聚合根就教程和聚合相同的名称。另外呢我们尽量缩小聚合，不要把计算机所有的学生啊，500学生放在一个班里就容易出问题，一打人就是500个人，打一个人会打死人。那怎么办呢？把东西收起来了，二三十个比较好，234个人打一个人还未必能把别人打死。这种情况下缩小聚合对有什么好处啊？缩小聚合跟你的事无复杂度就说一下，假设我们在创建过程当中你是不是有支付系统，有订单系统，有这个库存系统，也有这个产品系统所有的系统联动进行统一的事务处理？只有每一个实际的这个系统的操作操作才作为什么系统的这个事物的完成。如果任何一个出错，你就统一回滚，这个时候你的系统就非常复杂，你扩展这就非常差，那我们会问一问产品经理的假设，我能保证一致性。但是当订单生成的时候，我可不可以晚一秒钟拿到款项？我可不可以玩两秒钟实现我的履约？如果产品对你说可以，那这个时候呢你就可以把什么把物流，把支付跟订单这几个系统拆分成不同的聚合里面呢。好，最后一条聚合的概念有点长，它是什么创建和发布领域试点和操作资源库的操作主体。只有两个关键内容领域，事件和资源困难，后面再说，那么这里可以简单抽象的说一下，就平时我们领域去设置里面应用层的基础架构层可以做很多事情，可以掌控一些资源，但是呢如果是要在领域层里面进行一些资源的掌控的。比较简单的是让班级来进行控制，也就是一切荣誉不一般起，一切责任归班级。当你参加大赛拿奖的时候呢，我只那个拿奖成员1234哪几个人了？我就说计算机一般都是拿什么m大赛的一等奖，其实是指这个一般里面有几个人拿了一等奖。但是我们归类的这个班级第二道理，隔壁二班李斯的腿被打断了，导致休学一年。这个责任呐，是嘛，是计算机一般背过的，我忘记到底是打断腿的那个人是谁了，但是整个一般一起行动，一起打隔壁班级的20条汉子打一个，所以导致这个结果的这种情况下呢，我们归因的就整个聚合，聚合通常是整体的什么等于世界的操作库？所有的那些核心操作的，管理的主体好聊的。对是吧？也聊完个人还聊完那本书，那这个时候呢我们来看看实际的交易系统会怎么样呢？这交易系统里面很多英文没有关系，我们整体来一看这两三次。顶上不就是聚合，所以这里面有几个班级啊，两个班级。一个买方搬起白一订单搬起来右边那个蓝色框的订单办理。两个班级，左边那个班级几个学生的一个学生就我一直没有班长，他班长谁啊？买家他的名字既是班长也是班级，那这个班长呢，作为一个实体的多一个学生，还有他自己的学号。就是这个唯一标识，除此以外他还有很多的成员变量和方法，这是左边那个班级的。又被那个班级就厉害了，他除了班长的那个班级那个班长以外呢。右下角还有好多的什么小兄弟，所以这两个关键打架谁能赢啊？这样他就吼，就吼出这样的这个同学的实体。这帮人都可以参与打架，所以当一个买家去买一个产品生成一个订单的时候，他是生成了一个订单的主体。但是下面挂了很多订单的内容，这本书叫领域驱动设计，那么这个设计以及驱动有很多不同的书，但是的通常这整个订单呢，就把货发给一个地址吧。那这个地址呢作为一个直对象就是value右上角。这个只对象是跟什么？是跟我们的这个班长这个order的聚合跟对以前的他们修饰流局和任这个职位对你跟我们刚刚聊的一样，只对象是有复杂性的。比如说他有路有这个实际的这个房间号，还有呢城市还有那个邮编，还有好几个不同的原子合成一个对象。那这个对象是一个描述性的，可以描述实体，对描述呢去那这里也恰好是你描述聚合根的好，通过这样一个买家买东西申请订单的过程。我就看了两个不同的聚合两个不同的班以及下面的很多的班级成员以及其中的那唯一的那一本书。好，不要问了，实体只对向上去分了，我们下一节就针对着前面说的敏捷项目，看一看代码该怎么写来实现视觉。这对一下的聚合的大家进进现在。

------------

1-6

需求要落地的桥梁格进it我是张飞扬。上一节呢我们聊了聊实体实配件和聚合，那这一节呢我们来看一看这一个敏捷型的项目管理系统当中。有哪些的事情，哪些的直接性以及哪些的去需要我们来进行编码处理的？那这里呢我打开了一个马云的这个敏捷项目管理系统，也就是我们之前介绍的这种类型的这种工具。每其实有很多不同的工具，也是有的小伙伴用的是肌肉，必须用的是其他的工具，一样的道理，通常呢什么所有的敏捷都会有一个，看看板里面最早的那一项叫什么叫代办项。我们也有叫做，也就是放在后台需要处理的那些一个一个的什么任务项，这个任务项呢我随便点一个测试项目，这也是一个任务项，点开来看。这个任务项目其实就是一个实体吧。进行处理，他也有他自己的唯一的标识的，这里面还有很多的对象，比如说这个优先级不同的优先级的点不在这个罚款呢，他不是去改变U型级的内容，而是什么直接赋予一个不同的新的优先级的值对象。那就是一个除此以外呢，在这个我们测试项目里面还有很多任务，我们可以创建一些子任务。一个叫飞扬测试这样的任务，然后呢添加出来。那这种不同的子任务呢，其实你点进去看子任务里面可以详细的描述啊，标签啊，里程碑啊，所以呢相当于什么也是一个学生，他也有他自己的生命周期的管理。就比较适合呢用实体来定义这些任务，那同样道理的，我们的这个整个的对测试项目，这个主任务这个白的item。是不是也是一个实体啊，而且它还什么还是一个？聚合根的那种班长性质的事情，好，我们来实际看看代码如何来实现这些什么后台的任务作业以及其中的子任务吧。，切，回我的代码，那我这里呢其实已经展开了这个领域才具体怎么样去分成。进行代码的准备和包的管理的，我们后面有单独的章节来讲，如果这里呢重点就是聊一聊，前面说到三个概念，在如何的编程里面进行实现？那手机呢你看到的吧，这里面有一个什么抽象的这个的，那这个类其实是一个很空的，你把它点进去看啊。没什么内容，是只是只是封装了一些好，我们返回前面那个。Backlog item呢就是继承子这样一个entity，这个抽象类。这个百科老的item这个类啊，其实是什么？是我们整个白科item这个聚合的聚合根。没看到聚合就是包的名称，这包的名称呢？怎么叫的？那他这个包也就是这句和里面的这个什么同名的实体其实就是我们的这个聚合根。这个聚合根呢是作为实体必然有他自己的ID，你找一找他的ID在哪里呀？是不是有这个？oO'clock item ID，那这个就作为什么他的这个唯一标识通常的这个唯一标是什么适配用uu ID的生成唯一的。好，我们看一看啊，他怎么生成这样一个会议表示我们点击看这个ID作为唯一标识，唯一标识通常也是一种是对象。也就是说这个标识的内容啊不会被修改，一旦创建好一个，你这个ID永远固定了。当你什么重新入学以后，假设你错学就重新入学，以后呢，那你就作为另外一个人。所以呢你的爱就会双全一个新的，那这个新的不是原来改出来的，而是什么重新创建出来的。好，我看一下这个怎么样被创建出来。他为什么他的构造函数这一要求我们来传一个id我们看一看这个构造函数的可能有哪些引用的情况，我们假设以这个随便看一个例子啊，看看怎么样来引用这个构造函数的生成这个item的ID的，你看到没有？克劳克@的ID的生成方法什么传的时候用ID的。然后用的方式去生成一个唯一的uid，然后呢把它作为他的传给我们的这个构造函数。从而生成就这个ID好，我们回过去，那这个ID生成完了以后呢，它就作为什么一个成员变量属于什么这个聚合根麦克劳的item。有唯一标识这个聚合的，其他的聚合，比如像产品啊这种聚合或者是spring啊，迭代啊，这要来引用这个的时候，通常就会用去和对面这个唯一ID还还我到底要访问哪一个实实在在的聚合。我拿一个实在在的实体，这是是一个对象的类型。但他不是最经典的是对象，他每次因为什么他的内容太少了。我们更经典了，有上过这里整个业务的优先级，我刚刚看到是吧，这个图形化界面里的优先级很简单。优先啊，是吧？这个制药啊，然后是普通啊之类的，那这里呢我们代码里面实现的优先级更加复杂，我们看一看啊，这个别人文字也可以先备注一下它是什么。他是直对象的一个经典的内容，好，我们看看这个支对象啊。点进去看是不是拍了一个值对象的这个我们这个抽象类啊，我们看一下这个类什么？也是一个很空的，他只是有一些这个断言，没有什么实在在的内容。好，我们回头去看啊，那这个business这样一个项到底在干什么呢？他有他自己的成员变量，那这个成员变量其实是他主要的。总结什么重要性的内容都放在这个成员编里面，封装在里面，它本身也是个对象。除此以外呢，我们的这个职位是有构造函数的。比较经典的各个函数呢，就是把它的成员变量的那个一个需要传递的值在这里填好，然后呢作为他的成员变量可以直接传给最后的函数。是一种方法，还有一种方法性的就是我们前面说的只对象是很方便进行了复制的，我假设已经有这个现成的便利的制备一下，我要再复制一个呢。就调用这个复制的构造函数，很方便的传递出一个新的我们的所一传十，十传百，吨嘛，通过构造函数可以直接生成，除此以外呢，只对他还有经典的两种类型，一种是干啥一种比较两个对象是可以进行比较的，因为值对象本身没有ID。说本来他是一个数字或者是好些数据我们可以拿。他其中的数值分别进行比较比在这里面进行一样的，如果我们是60有街道，又有邮编，又有这个城市号，我们可以分别给你一个。然后他们都相等的时候呢，我们认为这样就这样是相等的，你除了这种比较以外呢，还有什么？还有哈斯类型的比较我不需要比较每一个指了，我们直接把它整体作用嘛，哈西，哈西完了以后呢，我们看一看它的哈希的最后的结果是不是一致。如果还是结果一致呢，我们可以大概率认为什么这两个是对象就是完全一致。好，聊完了这个支对象，也聊完我们实体里面的唯一标识。那这十天里面通常有唯一标识有表示他的一些特征和规范的值，对象以外呢还有更多不同的成员变量，但总体来看你可以看到什么？我们的这个作为聚合它有一个优势，虽然他成员变量是内部的私有的，但是呢它的构造函数与它的大部分就是可以同时我们注意啊，它的功能不包含就应该是很多的开头，我们随便点一个。Set get使用那种就是平行模型里面用的比较多的，我们后面会重点聊1聊tt逻辑。贫血模式也大量使用的同时把它们给别的这个服务或别的微服别的集合来访问，这是很不合理的。在我们的领域驱动里面尽量防止贫血，那怎么样防止贫血呢？就是把所有内部的全部封装在里面。还什么对外提供各种各样的public很深度的一些活动。比如啊我们看这个这个身份的活动，我们要定义一个业务优先级，我们完全可以用来进行一成员变量。叫什么？只能作为内部的使用，一旦你要对外提供服务呢，一定要讲清楚过程到底在干嘛，我其实是分配的一个有一定把动词变成鲜火，然后再对外进行暴露，这是世界里面的核心思想。其实对象说什么是可以很方便的进行，他不理的，然后呢我们聚合根也可以。但是普通的班级成员尽量不要再用来对外进行提供服务。好，我们说的普通成员有什么普通成员呢？这个就是有这样一个pass。而且他有一组task，所以他什么生成一个集合，我们可以理解啊，item可以认为什么是一代完成的任务是的班长。那他的班级成员有很，他们每个成员都是一个task，我们看一下。他是下面的成员变量，就是同时呢它的构造函数，大家看一下是不是什么呀？我们三和构造函数有限制，不能是public这领域驱动设计里面对外提供的什么永远是聚合根的那些工人。这和跟里面的每一个我际的实体尽量只对聚合根提供服务的这个具体的这个构造函数，是吗？是让我们来使用，因为他们在一个集合里面，对工厂他们在一个包里面。对，我这里可以用使得什么最后都能访问他，但是别人比如像这些不同的其他聚合是没法直接采用我们构造函数。那其他的功能一样，就像这里volunteer也是一个功能什么？他是一个很鲜明的，很生动的名字，所以他能够对外施工服务，但这个外指的是聚合内的小伙伴们。对的，还是而不是其他班级，也就是说我们把这个班子里面的39名成员全部封装在一起，只要什么他们之间沟通。或者让班长跟他们说说，然后呢对外提供服务的一个公园是这个班。它的构造函数是它的，它的什么肯定全部都是。这种方式以后你会发现整个这整个一个聚合变成了什么白黑这一个班长的这个代言人。只有这个代言人在跟在跟release进行沟通，我们看了看这个。没有提示一下距和这就是跟也看也看了看普通的实体。以及对应的唯一标识和直对象，大家是不是大概对我们怎么样去编写一段诗词，编写一段对象了解了，那如果是突然之间，其实我完全可以不用去碰撞，也and我们直接就是一个普通的类，然后这个类里面只要符合我们的有唯一标识ID，同时呢他尽量把他的内部成员必要的把他的也关了，然后呢把他很多很鲜明的名字给他。他们就可以认为这样的这种企业法就是班长就是聚合根。好的，这里面的唯一的标识呢就是一个指对象，所以他就是一个什么他的唯一标识的ID，那除此以外其他的那些内容啊，那些很多描述性的内容统一用直对象的封装，也就是不要让他有生理周期管理。不要让他有他所有的ID全部通过快速复制，快速创建，不修改来实现这些指对象的描述性的信息，那该我们的什么一个对象底下有套对象呢，你建议把他对象用实体性的进行封装。所谓实体的就是什么？我前面说的把他的成员变量发给把他的社会变成出来，把他的所有的鲜活的操作让同一个班级里面其他的同学来访问，通过这种写法，我们就可以很快的实现实体实现值对象实现唯一标识及实现聚合根。淘宝他们打包在一起呢，就形成了聚合好。聊完了三个基本概念，也聊完了一些代码的这个写法，那我们下一节呢会聊一聊工程，会聊一聊资源库以及非常常见的领域。好像是这样

。----

1-7

我弟的桥拖进梁it新兰，我是张飞扬，那上一节呢我们看了看实体。是对象，还有聚合他的代码实现这一节，我们继续来看抽象的概念，工厂库和领域服务，同时呢我们争取用校园生活跟他一一映射好，首先来看。工程这就回忆一下，当我们第一次进校园的时候，是不是有被分配过一个班主任？还记得吗？我们开学的第一天，班主任就先召集整个班级进行了一个大会。有很多内容，比如说我们什么我们的新的同学的这个学号啊，他给我们分配了，然后告诉我们我是你们班级的班主任，我来同你们班级。你们这个班级中今天开始成立了，对不对啊？有什么班级口号啊？学员的注册啊，还给我们什么？花了140年非常实用的学生指导手册，对不对？这些都是班主任在我们对应的领域驱动设计里面就是工厂，那工厂呢是因为创建这个班级这个集合以及它下面的一个一个的尸体，那么分配一些呀。创建出来这些都是什么工厂的干的事情，在工厂干的事情呢，通常可以用代码，哪种方法的时间可以用工程模式，还可以用抽象工厂模式？创建的模式的事情，那具体来看可以是同类，这个是用工厂方法云云，种种的总体，只是只要能建出聚合建筑实体，你就完成了什么班主任的使命。所以魏老师的班主任呢，只有在开学这些天我看到，然后呢我的四年生活当中是没有在看到过他的，我也忘记了他的民族很不好意思啊。但是呢工厂就是干这个事情，那他是什么？他是相当于是学校跟学生，学校跟班级之间的一种纽带。如果我们把领域驱动设计的四层里面第二层应用这种是校领导或者院领导应用有这个义务的实体的这个交互过程，那他是领导，那中间的领域层面就是实实在在的学生。还有呢说学生以外呢还，还有老师也是个领域什么的，这里就是第一位老师的班主任，工厂模式的班主任，那他们是学校跟什么学生之间沟通的年代？除此以外的他还有很多复杂的过程，就比如刚刚说的什么给我们学生的辅导手册告知我们什么整个的注册过程啊，号称班级成立的设定，班级的口号啊等等这些复杂的过程统一在工厂里面进行了封装和管理。这个工厂我下一个呢，另外一位老师出现了这个什么中文的资源库或者叫资料库，对不对？那我用校园生活来表示叫什么？叫辅导员，辅导员这个名字是不是在学校里面出现概率比班主任高啊？我们初中，高中考一个班主任，大学生活靠什么？更多的是辅导员。辅导员不是光辅导这个颁奖，可能计算机系的所有班级都是有一个辅导员来管理他辅导好几个班级。就这些班级里面的学生的变动，这些班级的这个拆分，比如有学生到其他学校去交流了，两个班级的学生都减少了一半，这个时候呢把两班就合并啊，等等这些操作什么都是辅导员在做。那我们对应领域驱动设计里面呢就是资源控不是不是很多个不同的集合的总体管理，它可以是一个咨询师的管理，那你也可以是做一些这种特殊的，比如修改啊，查找啊等等。那他除了做一些这种咨询师的管理以外呢，他有一个很大的特点就是什么？每个辅导员都有一个黑本本。这黑版本你记住了，这班级发生的所有故事，尤其是班级里面出现什么，大家都出现考试5b和记下来。张三一年级和三年级打架都各一次，是二年级跟四年级五两次以上。毕业的时候呢你拿到了毕业文凭，但是呢有一个毕业评语随着你的这个档案出去了，这就是我们的什么？我们的这个辅导员写的此人多次五弊，多次大家斗殴。录用单位请注意请注意，基本上是你是很难对他们好的单位录用的就是因为你上他的黑本本。这个黑版本其实通过这句话就像等等数据全部记下来，把你所有的行为都记下来。就是积极行为又管理嘛，多个班级是不是比班主任的功能更强大的啊？确实也是啊，辅导员是经常在我们身边能出现，对不对？他跟后台的这项do这些就是我们整个领域驱动模型四层里面第四层基础架构层是不是有点相关的对？他可以作为他的抽象，就是数据持久层的抽象，在这里展现在旅程做好了，然后呢底下的基础架构呢是他具体的实现。你可以用。可以好好可以实现，可以用缓存数据库实现，可以用门口滴来实现。有不同的实现呢，怎么可以是五花八门的？那这种方法呢是第三层的第四次实现了控制的反转，那我们重点要聊一聊，就是相对于来说更偏集合的概念，如果要管多个班级然后呢找到合适的班级，然后从这班级里找一个相关的服务，通过跟这个班级的什么的班长沟通来提供相对应的保护，那这是比较经典的操作，而地球基础架构才能只是实现最终的数据的落地，多实验是基本功能而已。相对来说呢，资源库可能比工厂还要复杂一些，因为他什么他又管多个班级东西搬进里边的很多的增山改他的操作它都需要和后台的这句话了，机智的技术架构已经沟通来说，聊完这两位老师呢。在想一想啊，学校里面除了老师，除了学生，还有哪类人校领？是不是也是老师啊，对不对？那也是那老师这个行业吧，还有行业的小工这不是。或者呢比如我们讲我们学工学农可能碰到的小工，那我们军事碰到这么是不是教官这类人，我们在领域驱动设计里面有一个名称叫做service领域服务。那他有什么特点？他无状态，所以无状态就是他从你生命当中啊一带而过，也很难记住学工学农的老师或者是教官的名称，男子机叫什么什么什么时候一大队的队长。然后让我们怎么怎么做，对不对？我们教官让我们怎么做也很难，记得教官的员工信息你都不知道教官的，那这就是一种透明人，这个人呢也没法很好定位他，你都只能通过班级的方法来定位，同时呢他一带而过，他完成这个任务以后，你再也看不到他了。那这就是你们服务的，他不像老师跟学生有一个完整的生命，就是他是一带而过，五种态度。除此以外呢，他既不能算是老师，也不能算是学生，更不能书记，对不对？好，那同时呢他要完成一些复杂转换操作，比如把你跟每一个农民进行转换，然你和一个军人进行转换，把你和一个工人进行转换，就转换操作，就通过效工，通过教官来实现。具体来看呢，我们在哪里有哪些转换啊？用户登录注册的时候，那个密码加密服务是不是一种转换？当非杨老师再说我要上领域驱动设计的时候，你要多语音转换，转换到后面可不能变成非要再交老司机开车啊。这就是文字的账号，除此以外还有多个实体之间的沟通。比如说我们会计准则里面最常见的什么有借必有贷，借贷必相等。所以呢应收账款和应付账款对账的情况的两边是都有的么？相应的操作，你把整个这个服务放在应收账款这个班级里也不合适，放个应付账款这个班级也不合适，但放在他两者之间。要通过一个校公司或者是一个什么一个这个教官的。进去出来就比较合适，好，聊完了工厂作为老师，也聊完了我们的资源库作为老师吧，一个是什么？一个是班主任，一个是辅导员以及后面的什么我们的小工和我们的教官，我们思维下一节呢我们就是实在的。看一看你的项目里面怎么写这三类老师和小工的吧。

-大家--进敬请期待。

---

1-8

上一节我们聊了聊工厂资源库以及领域服务。那这一节呢我们来看一看它的代码落地，在讲代码落地之前呢，我是首先要讲讲这个义务产品啊，比如说我们这种什么这种敏捷项目管理通常会有多个项目。那在我们新的这种项目系统里面，我们就又叫他多个产品Pro，你看我们比如说针对这个产品，就安卓开发这样一个产品。你点进去看，它里面有很多种不同的视图，但是如果我们用常规的什么用看法来看的话呢，就是那我们通常首先要建一些待办项目的backlog item，那这里我讲一下，我建一个新的。But做这个吧，然后呢指定很多人啊，然后什么的程碑啊等等把它建出来。对建筑一个在外项目，然后可以对这个代办厂项目进行不同状态的转移和操作。我们就来看一看啊，在这样当中其实是不是有两个我们的班级，一个是之前看到的这个视图里面的产品。这个不同的产品其实也独立的，还不是一个聚合，我可以认为是一个班级。而另外呢每一个具体的里面的任务的这个名称比较test或者测试这些都是一个一个的一个一个挨个人gate。那这个这个那个什么叫bug item？这是什么？是代办事务这样的班级好，我们来看看这两个班级之间怎么样通过工厂方法来进行创建，那个怎么样在一个班级里面。通过工厂的方法来创建他的子任务的，创建他的学生的啊。我歇会干嘛？好代码里面呢我们还是在这里，我们先看一看，如果已经有这个就已经在这个班级里面，我们怎么样让我们班长去找班主任？去加一个学生，比如说我的班长的，他的好朋友在另外一个学校。他想来这个学校怎么办呢？很简单，班长去找班主任打个招呼，你能不能把他加到我们学校的学籍加到我们班级啊，一旦同意那就过来了。非常的简单，就是关系的世界好，这就是班长，这个班长怎么样呢？他要什么？他要创建一个，然后加到这个里面。那他就可以运行这个年龄想要过啊，这个命令叫什么呢？叫做你能看出这是什么样的一个方法吗？这就是工厂报普通的功效方法是不是都是什么？但是领域驱动设计里面推荐不要用这种太传统的专配的线。只要我是新建一个实体，同时呢是用一种很形象生动的名词的心境，我们都认为这个形成工厂方法，这个方法就是比较合适的去创建存在的。指对象实体或者什么聚合的。这种方法的场景，这个创新的过程当中，你也看到它实际上在做什么，他先去转把这些值，这些值传给了下面的什么？这个这个事情的构造函数，然后呢传完以后呢，因为它外面穿的可能少了一些纸。就他这里面会额外添加一下它的内部知道的内容，通过这种方法呢可以解耦外面的内容和什么和实体的关系，就是实际里面有多少个我们的什么参数需要查，其实不需要让每一个调用他的人都知道，他只要知道整个我们的工程需要参加一个参数就可以，通常是满意的，比实体的构造函数的参数的少，这样结果我们参数传递过程当中的第一类和限制。那同时呢做完这个什么相当于什么？把这个人登记在我们学校登记完登记完了以后不要忘记哦，这班长要做的什么，它加到班级的就这个工作，就是把他加到我们这个班级里面的。我交完了以后呢还要告知全校这个人。我们真正就是的学生王大锤，从今以后就是我们的学校的学生，也就是我计算机第一班的学生呢，这个发布一个领域事件，那这个领域事件呢我们好几节课会详细来聊这首先看一看这叫什么叫一般的发布领域时间，然后他通过发布把这个领域事件告知全校。比如三步走，经常我们在领域驱动里面常见的三步的一个是什么？一个是把参数传进去，传了构造函数里创建出这一个实体，然后把这个实体的加到我的我的这个聚合根的这个集合里面呢，最后呢发布一个领域事件。那这是班长加同学们的一种方式，那除此以外呢还有什么？还有成立班级的方式，我们看一下。在这个高就是说过什么product其实也是一个独立的。一个gate的聚合或者说一独立的班级好，那是这个班级，那他的班长也叫扩大。他可以去创建另外一个单子，通过什么呢？通过找到对应班级的班主任。我看看啊，这里后来black clock这就是一个工厂方法，这个方法就是用来创建另外一个班级，我们班级呢所在的班级里面，它可以调用别的班级的什么的班主任。找到班主任说，哎呀，你好，班主任，我想就是创建一个新的班级，我们现在计算机是已经有五个班级的，我想再创建一个第六个班级，有没有可能呢？我认识一批学生呢，都是从美国知名长春等高校要回来，可不可以让他们来加入这个班子？好，那你就找到班主任，然后发布一个什么我们工厂方法，这个方法一样。参数里面传进去，然后呢增加一些的我们知道的信息，把它的构造函数给完成，然后构造出这个什么这个我们的新的一个聚合，那这个时候呢这两个聚合是没有完全依赖关系的。所以这个剧新的聚合和新的班级不是附属于当前这个什么富二代和班级。他只要把这个单子创建好就好了，这第一班的班长找到了什么？找到了我们的班主任，然后呢说嗯我们要去建一个六班，建完以后呢发布一个事件全校通知。说六班已建豪，还有哪些哪些学生就可以了，这也就是在两个什么两个iQOO的资金沟通的时候呢，通过这种方法的和工程的方法，然后创建出另外一个它的聚合根。到巨额的创建出来的时候，也就意味着聚合产生了，这个时候呢发布一个领域事件，好，就这个工厂方法的一个作用，一个是当前的什么班长去找班主任或者是另外一个班级的班长，找到了一个可以当班主任的这个工厂方法的话，那创建就是相关的新的班级啊。这两种常见的方法，那除此以外呢，我们要聊一聊，我们以这个为例吧。辅导员，专科这个班级的辅导员或者说是什么计算机系，整个系的辅导员，他干哪些事情呢？还要跟很多事情包括什么？神茶改很少做，辅导员很少去改一个一个班级里面具体的信息他会增加一个班级，一个专注c是增加一个班级，这个o是增加一批班级的传单，是传一个集合。这一批分你有可能是我拿了六个班级的信息，然后直接把这六个班级添加到一个零七计算机系，直接多六个班级，我们先来看一看，加一个班级。这船舱就是传给他一的，就是把这个班级的信息传给他以后，他怎么样把这个班级给创建出来？那具体实现的方法是什么？是他设计这个接口，所以他要用就具体的实现类，那这里呢是用是一种介质这个事情的方法，他这个这个出行方法我们看他实现的细节。他怎么样？他其实就是拿到一个纸，然后呢把这个给锁住，这就保证呢就是还原全球多线程的那个一致性的，然后呢通过这个c五这个方就是里面的这个方法把这个纸给塞进去，然后呢这样就是实现了什么数据的最佳，他除了数据追加以外呢，我们还支持，还可以支持一个数据的删除，一样的道理啊，你看一下。这个它实现啊，它实现这些什么也是这样把这个什么t给锁住，然后呢生命就要记住在释放出一个这样的情况下呢，这个班子就给顺利点删除了，好，我们除了可以操作一个班级，多个班级添加或删除1万呢，还可以查询班级，你比如说我知道这个班级的班长名称，对吧？来克劳德艾特的ID就是嘛，就是他所有的这已经存在这个ID就是他班长都有这个鞭炮学员号，我知道，班长你听到我就自带能找到这个班级了吧，这个具体时间啊也可以看一下。还是那么通过构建一个数据库，那他本质上其实就属于用一个u财务这种一致性的方法，他的一个对象就完以后读完以后呢把它的数据返回给我们要查询的这个。这个啊。这个方法就可以了，所以通过这种方式呢很方便的进行数据的查询，一旦你要去查询别的班级的情况，比如别的班级的内部信息，通常你是先找到什么找到辅导员，那辅导员呢？然后再去找到其中的班长，最后把整个班级信息给逐层汇报出来。那这就是他做的事情。聊完了我们的班主任，聊完了我们的辅导员，我们再来看一看，嗯，我们的小工或者说是我们的教官，这里呢我挑另外一个我们的边界上下文嘛。这里面我挑哪一个？我挑这个，我说一下左边因为有点小，但是能看到吗？它分好几个不同的什么校园生活，我现在打开的是的校园生活。其中我们打开领域模型里面，然后呢我找一个还认识一个有这样的思想加密的用户密码加密这样一个色的。那这个服务呢，是吧？是一个是用一个接口来表示。领域驱动设计的领域模型，这里我们定义了一些这个领域服务都是一些接口啊，他具体的实现呢你看看。具体时间在哪里？才在基础架构准备可以看到金属架构群里面也有服务，那肌肉架构层具体实现到底是md 5的加密呀还是什么的加密啊？加密方式有不同的这个效果。对，具体加密的方式呢，全部什么全部都是用来实现这些已经灵活的奇幻这样的方式。好，这就是领域服务的一个比较简单的操作，比如说数据加密，那我们还有什么领域服务的非常复杂的操作，这些操作是不是也可以帮助我们进行反腐型的？也就是给什么给其他学校的学生过来的时候进行卸妆水直接一直买了，买个肯定是到底怎么样，给美女卸妆，我们下一会还是看源码。看一看怎么样的利率服务里面通过还原华师大学校的学生的真实面目，大家进是的

---

1-9

这样需求到落地的桥梁，这些it新来的，我是张飞扬，上一节呢我们用代码来实战了一下工厂。资源库和领域，那这一节呢我们看一个复杂的领域服务吧，看一看他是来如何实现反腐层。那我之前说过反腐层其实是什么？就是给华师大的同学进行卸妆的卸妆层。在这里呢，我们实际上要处理的不是美女的妆容啊，而是一个什么？而是一个用户认证的系统，这也是一个校园嘛，他什么身份与访问的帮助康复？这样一个校园，那这个校园呢它提供一个API，这个API是这样写的，如果你的路径开头是以开头，然后跟上租户ID，然后再加上加上热的ID以及再加上角色的名称。那这个时候呢他会告诉你，你这样的用户这样一个角色，他的邮箱是多少？他的姓和他的名分别能拿到这样的，并不满足我们下面那个就是下游协作上下文这样一个校园的需求，他希望什么按照英美的风格把所有的用户以信放在后面，您放在前面，中间加空格的方式。他进行展现，他要这样的权限啊，可以定义了一个什么？一个领域服专门实现这样的一种姓名的逻辑的处理。他真正的事情逻辑转换的呢不是它本身，而是它掉了底下基础架构层里面的两个功能，一个是什么？一个是这个马萨车外观模式或者式或者普通的HTC的，那这个可能去真实的获取到数据。过去玩了以后，你再掉那个适配器模式或者叫适配器层这个设备阶层呢完成了一个这样一个类的面的方法的调用，最终实现去哪发性和名抽取出来。然后呢按照一定的逻辑有名在前空的姓在后进行一个排列，排列完了以后呢返回给领域服务。就是如果说我们未来要改变成中文习惯把信，把信放在前面，名放在后面该怎么办呢？也很简单，只要什么调整一下底层的这个具体的实现了这个代码就可以了，而我们呢领域的这个逻辑的服务抽象成本依然可以放了。很方便的让我们利用程啊，或者让我们的测试代码来进行访问和调用。废话不多说，集中看一看如何通过下面这两块一块什么service领域服务。还有一个呢，有硬肉adapt，这样一个适配器还组合起来来实现卸妆的，让美女卸妆哦。我还是现在领域驱动的代码读起来有点艰难，那我们来尝试有一个思路，什么思路按照箭头从来到绿到逐步去看。同时在栏里面我要强调一下，这次呢我们关注的是协作。上下我这样一个效应，一个校园里面居然有他的什么他的管理的学校校长。的金字塔金字塔里，我们记得吗？那个驱动市场第二层应用服务层它是可以类比于校长或者校领导，那这一层呢通常会对外提供所有的服务的一个汇聚。所以活动是他提供的，那他下面会管很多人，那他是怎么样去管理这么多同学呢？它是通过班主任，通过我们的这个辅导员还有呢校工来进行管理，那这一节就看一看怎么样应用服务来钓鱼服务，通过这样的效果来进行上了整个学校里面的这个数据的管理人员的管理。打开电脑是这个代码依然跟前面是一样，默克给他不少你下载，然后呢我们重点关注克兰这样一个词语。这个词语里面呢我们打开应用，应用里面呢我们打开里面的discussion at application service。那我这里要强调的他是谁呀？是我们刚刚说的，他可是笑。你不要不把校长当校长，这校长里面首先他会定义什么任何一个自己的一个有什么效果？这小工是谁呢？就是李吕服务了，哪里服务？可这样一个衣服。这个领域服务呢，我们先不看领域服的内容，我们可以看看他后面怎么样这个衣服啊。后面他是真正要发起的，就要发起讨论的时候我要做一件事情了，就是件切好了发起讨论，你再发起讨论的时候呢，我要知道发起讨论的人是谁。你自己传进来一个参数，这里面其实是有这个讨论的ID和这个ID的，就在里面隐含着这是一个值对象的参数啊，他怎么样呢？就获取到这个具体讨论人呢，发起人是谁呢？他会怎么调用其中的这样一个这样一个方法，这个方法返回的其实就是他这个成功变量。就是这个service这样有什么领域服务的，那这个领域服的是人人变量里面的具体方法就from就是用这个方法来把获取到了这个什么这个id转换成真正的明信和他的邮箱的。所以呢我们可以看到什么？我们校长啊要访问很多的具体内容的时候呢，因为我们是直接找我们的班主任，要我们找我们的这个辅导员，或者呢很多时候就会找这小工。你就用你的这个方法赶紧把我数据给我获取了，我们看一看校工的这个方法到底该怎么样使用。你点进去看这个什么，这是一个service领域服务里面的方法，这个方法有什么特征呢？那就看出来吧，是不是一个工厂方法？诶，对了，这就是一个什么工厂类型的方法，它会返回具体的包。那另外一个方法呢会还问具体的可以不是不是怎么样？它怎么实现？它通过service，这个service在哪里？在设计下你这里就可以认为它是什么，就是基础架构什么意思？的技术价格层底下的一个服务，这个活才是真正的，所以我们很多时候领域服务它只是一个抽象的接口，他他真正的实现呢要靠需要基础掉落，就跟一样资源库也是一个抽象的，一个抽象的一个集合，那它的真正实现通常是通过我们dao层来进行实现的。在这里呢大家可以很容易发现一个特点，什么特点这个author的具体内容，它用到了什么我们的适配器u adapt来获取他这个适配器的具体的一个方法来获取。这个用户的信息，那这个适配器就是我们前面啊，这个当校长找到校工说请把我这次发表讨论的人给我找出来，那这个时候他不是直接找他是找事。因为设备器技能获取信息又能进行转换，那这个设备是在做什么事情呢？我们详细来看一下。就是会说我用了这个方法，但这个方法其实是一个很空的内容，你这空的内容其实是什么？在这个接口里是没有具体定义的。给我看看它的实现，要点进去它好几种实现，那通常就是HTC请求的时间。这一排的这个实现具体在做什么？我们来看一看，第一步是什么？第一步其实是他是说我是获取了请求的信息的，而且是HTTP的请求，我把他这个准备好了，或者说准备好。准备了还是第一请求第二步呢是什么呢？第二步是发送HTTP请求获取响应。就响应什么就是多少response里面，然后呢就对这个响应的这个什么这个状态进行他判断是不是两百啊，这里才是关键，这什么关键。实际调用，现在转换这才是实际当我们这个什么底层的这个基础架构层里面的具体实现方法来实现的时候，他也会层层嵌套来具体实现，那我们看看被嵌套的这个类什么呢？叫是不是就是pPPT里面说到了什么卸妆棉啊，适配器先去获取数据，然后之后呢用卸妆棉拿出来translate拿出来开始进行卸妆了。我们看看其中的过程怎么样？是这个过程我们点击看，具体没有啊。他怎么卸妆啊？他通过一个叫不是reader的这个这个什么类？把他的类呢就是把它具体的这个实际的展现信息全部获取到，然后呢分门别类的去读给他的值。说是这个，比如说是这个邮箱的邮箱。然后呢进行一个转换，那这一坨因为什么这个代码写的层次特别深，就感觉有点累，没关系，觉得当时一个功能好。我们直接就看到他就实现了，他在转会的本质是在这里，你看到本质本质就是很简单，我把这个保留不变，邮箱保留不变，唯一变的是嘛我要用。欧美的风格啊，是吧？明显的前面控制细节在后面，然后把多余的两头的空格删除了，哎，这就是实际的功能。这就实际的工人呢，我这里备注一下实际操作。保留欧美性风格。本来拿到是两个字的，一个是你，一个是姓，但我实际操作过程呢保留了欧美的姓名的风格。那这就是我们的这个这一次转换的这个过程，那我们可不可以换一个？当然可以，在基础架构层里面，我们可以进定义多个不同的类型，然后呢采用什么依赖反转啊等等方式，很方便的来实现我们的具体的操作回到我们前面这里，请求这里我们可以看到什么？这里实实在在的操作过程，就是我们PPT里面说的调用yy模式，在细看就获取这个身份。认证的API，然后呢通过API的返回值进行一个名和姓的这种重建重构，构成完以后呢变成了一个author这样一个对象，然后返回给我们啊service。我这个卡不是说什么，最终呢又是通过他的这个实际的调用返回给我们调用，还是校领导你看看啊，这里题目返回，最后呢就是这个了。这个位置就是符合我们本领域要求的这种欧美风格的姓名，这个信息以及他的邮箱信息。把任性只能换回叫什么这样一个内部的变量，然后这个变量就会用到后面真正发起讨论。这里面的快速过一遍啊，我们其实思路是什么思路？就是让我们的校领导去调用我们的校工，然后呢让校工来进行一个抽象。你这个抽象的效果呢，其实要做的事情呢都是在底层的这个我们的基础架构层来实现。基础架构成啊，不然老师一个坐在找到叫大爷才比如什么收发式大衣什么什么大于门卫大爷等等。大爷是什么？是听我们这个教工的，那这个校工还是学校编制，大爷可能是社会变成在学校编辑的校工呢，比如会安排一些任务，让大爷来帮忙操作，那这个大眼的可以有好几个大爷，今天看你不顺眼，就换一个大人。对这个学校这个体系结构啊，这个层次管理啊有点剥削啊，对不对？小领导，然后呢什么班主任啊什么舞蹈一样，小说下面还有什么大叶这一层，这就是我们经历的层层里面234实实在在就是这样操作的。聊完这些才能以后不要回过去了，基本上是不是对李玉服务有点了解，服务的相对来说是比较自由的服务，那他们可以通过适配器外观配合起来实现一些什么对其他的我们的领域的数据。过去了以后呢进行反他，当然我们不光是领域服务可以发，我们校领导也可以直接调用视频题材，也就是应用服务，直接调用设备进行方案。这种操作也是有的，所以我们有很多种不同的时间来实现反反腐是我们什么？实际的领域驱动过程里面调用的一个最推荐的方法，那前面应该大家已经很了解的我们。不同的校园之间有很多种不同的模式，比如是驱虫，比如是说是服务的供应和获取的，或者是大融合的。或者说是完全独立的在反腐残这种情况下最推荐的方法其实就是通过这种很努力服务和应用服务进行适配管理，然后呢用HTTP的方式进行很紧密，但是呢又可以进行卸妆的。沟通除了这种方式以外呢，还有一种方式也是非常推荐，那就是用异步的这种消息队列或者说是领域事件的方式进行沟通，这个我们在后面几个章节会详细交流。在下一张呢，我们尝试会对工厂还有对于我们的这个资源库进行进一步加深，我们看一看校领导service是如何嘞？访问我们的工厂的功能以及来访问我们的功能怎么样来通过班主任，通过我们辅导员来管理学校的。大家进去记得。

---

1-10

让你需求的落地的调整逻辑，新版是张飞的，那上一节呢我们聊了聊应用服务校长。如何调用领域服务小工，最后呢通过大眼基础架构中来实现让美女卸妆来实现反腐的这一节呢我们来看一看校长和班主任和辅导员关系，这次我们换了个学校，我们看一看就按照PM项目管理学的，其中的这个校长名叫做什么校长备注一下，其实就是什么应用啊？好就让你们内容很多，我们都跳过，我们重点只看这一个方法。就跟我相对复杂，你包含校园很多套路，其中一个套路就是这个。他用了什么？他用了辅导员来进行操作。这个辅导员到底在干嘛呢？还用问他辅导员这个方法叫具体去干嘛？我觉得去看啊。诶，看到这个时候就很熟悉了，在上上节我们已经聊过了，是吧？辅导员可以进行这种的增还有这种叫山，还有呢还有一个查询好几种查询方法，那其中呢根据进行product查询这就是一种标准的查询手段啊，通过我们辅导员的查询能力，它的小本本就能够很方便的查书，我们这个集合里面和对应的什么这个根据ID查什么查这个产品我查完了以后呢返回给谁？返回给我们的校长，辅导员说哇，我找到这个班级的，或者说我找到这个班长了，然后他把这个班长信息呢就传回这个对象。就有对象了的话，查一查看是不是空非空非空以后呢？就是做这样的事情都是空的，就会报错了，等等处理方法，假设我们飞空。我最后以后呢，我们就开始自己讨论了，这里又用的什么功能呢？是不是用的是我们的工厂啊？也就是换句话说呢，就是我们的什么？班主任，这个工厂这个方法在干嘛？这个方法我们看一下。方法就是标准三部曲还不起啊，先要干一件事。把这个discussion给创建出来了，就在这里边，这个discussion的这个状态如果已经使呢，然后我就把这个变成ready，就是把它的状态给弄好了。我觉得主要是这个值呢，干什么好什么创建出来了，其实他就是一个工作方法，他去创建了一个高我创建完就是加上以后呢就做完一件事情以后，工厂包括或者工厂内有的特点是什么？一定要发布一个事件全校通知。通过这种方法呢就可以很方便去创业，去对应的标准以及告知学校我们这个彼此加上已经发布出来了，那具体这个怎么样进行处理呢？后面的后面一个这个章节那个详细交流。我们退回去吧。就当工厂完成以后，我们不是就完成了，这个时候其实是其实是我们这个已经有些改变了，这个上面已经具有了讨论了。不光是有空空的产品，它在里面把这个讨论社区啊，讨论群也可以建好，那这个时候呢我们需要对这个产品不是的，进行19号怎么样？定期就花还记得吗？负责持久的话就是辅导员，哎，我们这次呢又要用到了辅导员的一个功能，什么功能呢？舞蹈人的一个功能的持久化，也就是所谓的我的山里的没有真这个真的，我看一下啊，要用c我点进去看是不是就是后两条啊？对我们的一个集合里面的内容进行增加。那这个c的具体操作方法其实我们前面已经看过，那我们看一下它的具体实现就是通过这个建筑队。的这个数据一致性，事务一致性的方法，然后呢加锁x数，然后呢解锁。最后呢实现数据插入进去有对应这个t的值给成功了，插入到这的减值对属于库里面了，如果我们去芒go啊买啊，都可以采用这事物理之间的方法很好的完成数据的。增加还是完成完了以后呢，我们还可以进行这种嗯实际操作的追踪啊，总结一下呢，就是什么我们的校领导是可以很方便的通过。工厂送班主任来创建各种各样的班级资源，这里的其实就是一个关系或者是一个班长。那同时呢我们也可以很方便的通过我们的辅导员把这些数据给持久化了，如果到集合里面落到我们的这个持有块的数据库或者建立对系统里面。在以后呢真的需要读取的时候，我们就可以很方便的从我们的辅导员那里拿到一手信息。到底这个班级是吧？里面是不是发生了重大的违规事件？还是他是一个明星关系？聊完了我们的校长和辅导员，班主任的关系，那我们下一节呢会聊一个更加空幻的概念。怎么样让隐形的概念显性化？那希望呢通过这样一个概念，能够真正让大家理解到隐约驱动设计里面三个最核心的原因。一他是原名的具体操作说的吧

---

1-11

这样子需求要落地的桥梁进新人也是张飞扬在上一节呢，我们看了看应用服务怎么和工厂，怎么和资源库。对接和处理的，那这一节呢我们来聊一聊一个心的要素，隐形的概念显性化。这是一个很难读懂的题目，对不对？教主老师呢？一定要求非老师来给大家讲解一下这个核心要素。不然老师们想办法看看有没有方法来做一个类型，让大家更容易理解呢，我找到了这样一首歌叫什么张韶涵的隐形的翅膀。比如有一句话说的很好，我知道我一直有双隐形的翅膀带我飞给我希望。那我们现在就把这双隐形的翅膀找出来吧，哪三条基本的什么领域驱动的原则呢？跟隐形有关第一条。隐形的概念显性化，什么事情引擎的概念，假设我们去上班，我们上班过程当中进行一些工具的选择，怎么选工具呢？通常我们选择题都是在家和公司这两头，我们有可能是通过共享单车来实现最终的1km，哎，这就是一个选择。那个有没有什么其他的选择呢？当然有，如果下雨天是不是共享单车不是很合适，就如果你每个月的月初，嗯，我刚上个月发完工资，我钱很多，今天又下雨了，我选什么？打的嘛，对不对？出租车是一个最常见的选择，那如果我的被窝呢没钱怎么办？那我就趁把小花再按怎么样一路走到地铁在一起。这个是隐形的概念性进化的一种，把多种不同的逻辑都用在一起。服装城上班工具选择这样一个对象或者是这样一个类来进行处理。还有什么信息的，是吧？隐形的上下文写字，就上下文是指好几个不同的元素，他们有一点点的关联，但平时感觉不出来，但是你一旦把它结合起来，变成一个对象以后就有特殊的含义了，比如说上班时间，上班时间是什么？首先他是周一到周五要上班嘛。然后呢就出是出发时间还有什么？到公司时间，对不对？这样一个上班是这样的，或者对象里面可以封装我们的日历的这个具体的周期以及呢触发了几分几秒，几时以及逗公司的几十几分几秒，这也是一种隐形的上下位的显性化的思路，那还有最后一条思路就是封装多个对象，前面已经跟人家聊过的。货币100人民币啊，还是100美金啊？这里面既包含数量又包含数货的单位。他可能还有一个一个方法，就是跟其他的货币进行货币转换，蕴含在这个对象里这个内容。通过这种多对象的封装呢，能够表示一个完整的一个购买力。100人民币你就可以知道乘出租车可以撑多长时间，都是有完整的购买的。总体来看，这三个内容就通过哪种方式用这个哪一个概念来实现他一个部长理解啊，必然是什么只对象。这三个内容吗？我们专门的第一季里面有一个名称叫什么？叫白中文有点难，孙老师这样翻就说属性和约束。数学不是我能描述出我这次这个行为，或者我这个实体或者我的聚合跟这个情况，比如100人民币就是打车，那大概可以知道，是吧？我们可以开一个大概半小时左右。然后呢可以开个几十公里的十人的打车，那可能就是起步费都不够。这是一种属性，还有一个约束呢，我这次出行花费不能超过50块。但是我要开30km以外的地方，那我估计你没钱拿错，那这就是约束把这些内容是逻辑全部封装在一套直对象里面，限制我们的这个视频或者描述我们的视频。这就是领域驱动设计里面坚强的一个词，我们看看我们的敏捷项目在哪里面，有没有类似的对象呢？我切换到我们的这个IP的这个，你看这里面已经打开了什么我的三item这样一个聚合根，之前已经聊过，他下面有一个叫别这样一个很普通的对象。本来计算机本来计算机个代办任务的优先级。相对来说基本上是有点复杂的，为了使他简单化呢，我们就现了第一个你隐形的翅膀。属性和约束哪一个呢？叫做别人是这是个属性。你说到底我们这个2点多么重要，我们来看一下怎么来描述呢？首先它有四个关键的成员变量，把这四个对象合在一起，通过这个代办任务可能产生的价值以及呢他所要人员的时间和人力的开销，如果这个任务做不成，以后有怎么样的惩罚，以及这个任务做不成功的风险有多大，那通过这四个点我们大概就拆出来，我们到底要投多少人力？在这个项目里面是不需要投项目经理呀，还有把控这个风险，是不是要来投家做事啊？进一步的去防止出现惩罚。这种明明是我的，是不是你重要是重要？一般这样的简单描述要更加清晰呀，把这些多个对象封装在一起，同时呢把多个逻辑和因素程中为我们看看。后面它是其实是有个计算逻辑的，它也有些因素不能往上面拉，你看这里。什么呀？最少是一，最大的是九，那通过这样一些基本元素的基本逻辑呢，我们就能够发整个别人的很好的描述了，通过一种数字化的方式描述出来。这就是描述优先级的一个支配项，这个职位项就是属性和约束我们看一下，除了这个属性和约束，我们还有没有什么其他的属性和别说呢？我们依然回到毕竟这里面随便你挑一个他的这个方，计算这个成本计算成本里面，你发现他传一个参数，这个参数的类型什么是然后呢他把当前这个产品去除，以这个的这个成成本，然后呢乘以100要算出了百分之当然可以猜出来应该是什么，应该是剩余的所有要做的任务的总的成本。叫做求一个百分比，这种总和的概念呢其实是呢是计算过程当中的一个中间值，但是呢毕竟隐形的概念引擎的是什么显性化，我们也需要用一个指对象来完成的，表示他来完成的约束。你这样一个指对象，是不是我们也是专门数的百分之啊？属性和那他有什么样的具体的就是内部公告对象锁定呢总的好处。总的成本，总的惩罚和总的风险，还有一个偷偷value就不怎么算呢。这么算，他们其实他没有在什么在这个支队上面直接进行计算，这只是像只是一个简单的比较啊。X是扣的啊，然后呢负值啊，构造的过程它通过一个什么领域的服务？你要说一下鼻子是的，这个是一个零定的服务。通过这个领域服务呢来计算我们的这个病例是排位多少，看看他拒绝的基本方法，这个这个方法怎么算呢？我喜欢看就是by就是没有做的，做一个代办项目，然后这些代办项目里面逐一把这个内容拿出来，然后后来把他的什么好处就和把他的惩罚加跑到成本加进去，把他的风险加进去，这样我们就获得了什么。因为华为的这个好处，惩罚成本和风险，但是这个突破怎么这里有个逻辑，你说呢？把搓搓这个怎么做特的拍上去求和以后生成的这样一套逻辑，弄完以后呢就能实现。华为的这个好处，惩罚成本和风险，但是这个突破怎么这里有个逻辑，你说呢？把搓搓这个怎么做特的拍上去求和以后生成的这样一套逻辑，弄完以后呢就能实现。服务，很方便的生成处我们这里。这个领里面的值对象，那这个是可以帮助我们来约束的线我们的。整个球个过程当中的这个分母基本上都是用它来进行计算来表达的。他通过这样几种方法呢，对足浴的话，一个很复杂的逻辑，一个很复杂的逻辑，简化成几个对象的组合，通过这些只对讲来实现整个属性和约束。最重要的掌控一个实际的实体或者一个聚合，跟着这个描述。聊完了这个隐形的翅膀，这有一个内容，我们来看一下隐形的气泡是不是还包含其他内容呢？当然是啦，邻居的吃饱这句话里面其实包含内容有很多，我们还是从张韶涵的歌开始。我知道我一直有双隐形的气氛，再给我希望下一句是什么？我终于看到所有梦想都开花，那什么样是开花的梦想呢？就是最花里胡哨的领域驱动设计的设计模式。那这种花里胡哨的设计模式，策略模式，策略模式呢，我这里引用一个网友的这个写的这个很漂亮，这个处理模式的景色怎么解释？最近的90月份的经久零食吃大闸蟹的时间到了，所以在厨房上面纹的右边就是厨房上下纹，我们要烹饪一道菜量大闸蟹，我知道菜单在左上角。接口的方法来实现怎么cooking这个方法的具体实现的话，具体类里面的实现类里面有清真大闸蟹的头，也有红烧大这个头。但是我们在厨房呢，每次呢只会指定一种口味烧点心，就是尤其视频啊，有我们的这个每一位的嘛，大家小伙伴们来点单，你点红烧大闸蟹，我就在这个什么是红烧的奶子，然后你可以烧着他那些那这样的套子嘛，在我们的领域驱动设计里面怎么用就在只对项目，比如厨房，就是我们可能是我们一直对象，然后呢在职对象里面呢我们可以封装一些基本的这种抽象型的策略，形成一个什么接口，然后呢具体去实行这个策略的时候呢，把这个具体的现内的内容你要问清楚之后呢，我们在实际过程代码过程当中就不需要写，也不需要选位置。好像是什么完全由我们的这个实际的业务场景，比如说前面聊到的这个业务产品同时呢就是每月的月初这个业务场景自动触发的嘛，去打车，而不用说衣服一号到五号，然后那么一服如果是什么雨天啊，怎么怎么样，不需要这样直接为一个比较简单的策略选择。就可以只到我们的具体策略，然后通过这个具体策略里面呢很复杂那个逻辑把什么不管什么杂蟹烧出来，还是把这个车给打好，把这个钱给付好，那这就是策略模式里面很方便的进行不同的策略的选择来代替传统的大量大量的el四的时候再买开发。还有什么开花的梦想，还有一种视频模式叫组合模式。这里呢也是一个经典的组合模式啊，组合模式前面一个半金老师跟大家交流过，就是树枝，对吧？加上树叶组合成一个数，那左上角就是一个整体，希望组合中的树。中间就是这个树枝嘛，对不对？那什么上面有好多叶子有and哦，还有这些叶子有什么用呢？这些叶子其实都是一个一个的逻辑，比如说还是打车为例啊。打车什么一是三的，你们呢早上上班感觉有点来不及了，看的什么啊？当前是下雨天闹腾的不是周六和周日，那这种情况下呢我们就会需要打车，对吧？所以昨日不是要上班。然后呢时间来约束束或者是属性，然后呢中间用一个数字康复这个进行一次统一的管理，那之后呢封装成一个数，这个数呢就可以使我们的代码里面减少很多很多的组合套路了。这也是一个设计模式。这样设计模式呢，我要提一下，其实在鲤鱼设计里面简单设计里面很少有。除非是很复杂的价格，这个价格里面本来逻辑很混乱，成就的时候呢，我们可以考虑用组合模式以及签署的策略模式来进行修改。最常见的还是我们刚刚在代码里看到了什么通过值对象把一些能够兑现的逻辑用直接上封装，然后呢用这个封装的职位上去描述另一个对象，就用这个指标向上去描述实体。聚合根等等等等，聊完了，这个最难描述的什么隐形的翅膀显形了。那是一节呢就进入领域建模方法的五大方法论的风险。小许是更加精彩，大家期待。

---

1-12

不是张飞颖上一节呢，我们聊一聊那首歌隐形的事。这节呢我们开始来聊一聊正规的领域建模的五大方法论。第一个方法问他叫什么叫做企业架构，大家还记得吗？之前的会员老师跟大家分享企业架构设计里面有一个嗯，嗯，很多手机号的业务中的一列一列呢，其实当时没有详细给大家说，其实就是紫韵或者是界限上下文横着呢，是吧？可能是一些策略层啊。控制层和执行层啊，对不对？然后你没有具体的一项一项的内容，这些内容在我们领域设计里面其实可以对应到一个一个聚合，这样你就已经有了很多聚合也是有了很多的。就是如果你感觉说聚合这个太细了，我不可能写那么细，那也许就是一个一个的微博，一个一个的模块。讲到这里呢，我要跟大家分享一下我服模块的聚会。还是有所不同，我们后面会有专门的一个章节讲代码的结构，这时候我会重点跟大家聊一聊，怎么样区分，怎么样区分借鉴，见到我很自信。CPU这种方法，那还有没有什么传统的方法呢？对于领域的切身传统的方法还有一个大家应该非常熟悉，不是？面向服务的soa模型sov模拟，是吧？一切一种线为基准。我这总线里面要完成一步的消息队列，要完成同步的API调用，要完成服务的注册。有完成什么是我的引擎要完成事件的处理的框架等等，在上面呢可以插拔比较流程化的应用服务啊，第三方接口啊，交互式内容啊，信息管理啊，安全模式啊，建模功能啊等等等等。所有东西都是x把在这一个总建之上，这种情况下呢是是一种总线为基石，然后就已经插拔各种样的内容，相对来说呢我们可以很自由的进行业务的财会，然后呢就是平常有那种互相沟通，互相通讯了，基于同样的一套标准，同样一套高跟鞋来开发我们的整个IP架构，这两种不管是什么前面的CBA还是S4 v都是五年之前的，已经有点淘汰或一些老旧的传统的。偏理预计分或者说偏微服务改造一些价格你有没有稍微新一点的呢？稍微新一点的有三种。这种呢其实我之前跟大家已经花了很长时间来分享，用力分析。简单来看，其实就是用ul语言把客户的具体需求全部拆解开来。可以用飞老师能取得类似于慕课的点播式的例子，那是什么架构之思维的那种立方体模型来进行的话，也可以向右边这一列的一样，顶上是一些什么一些偏股妄图性质的组件模型。左下角呢是一些标准的用例分析右边是什么？什么叫4+1模型等等语言有很多很多。不同的很多种事情都是虽然老师推荐还是用架构师思维这样一个立方体模型的整个轨迹，思维轨迹更清晰一些。这三种模型基本上都跟你们有关，但他不是专有的里面模式，后面有两种模型，只为领域而生，也是比较潮的模型。我觉得他讲一讲四色界模板要多斯特魔法呢，必须要回到小学时的光大学时代还不行，还小学时代。而这个小学是在最知名的一个游戏嘛呢，就是找一些小纸条，然后分工，有的人写水，有的人写在哪里，有人写什么时间，有人写干什么，然后把这四个纸条合起来就可以讲一个故事的。这个游戏还记得吗？四色的嘛，建模法就是用这个游戏，他第一种颜色什么叫绿色？专门有一个小伙伴只要绿色的纸条。你的是谁？哪里可以被做的一个事情的对象，总体来看就是叫简称PPT不是在啊，只是在写一个绿色的什么绿色的小纸条，假设我们需要农民局拜新老师吧。放学老师的就是拜金，老师在哪里呢？在女生寝室前是第一个人写的。第二个呢是什么？用黄色去指标什么纸条，什么身份？英文就叫做肉什么身份呢？我们假设叫校草都很帅，所以呢校草就是不是很适合他这两个小朋友写的还非常的匹配。第三个小朋友写什么呢？写如何的这个描述性的内容如何做呢？心情澎湃的老师的在女生宿舍前。作为校长激情澎湃的，然后上来缺什么？是不是一个红色小的在做什么领域的这个四色模型里面叫做某一段时间内发生的那个是做什么的，第四个人就写的不太靠谱，他写了一个贵族。合起来就是半仙老师在女生宿舍前做校草。激情澎湃的结果是跪搓衣板，不好意思啊，不能取消其他的这个老师的，不能拿其他老师打去，我们还是回到真实的见过。真实是这些，我其实就是红绿黄蓝，分别写纸条，也写红字。红色比较这里呢假设我们是有一个网上买东西的下订单了，这个时候呢会有订单啊，会有网银记录啊，会有包括存着啊，会有一些促销记录啊等等，这些都是一些什么一段时间内发生的行为和行为的激动。不就是红色不是跪搓衣板，而是在订单绿色几条的应该紧接着跟上，并说主要是没想就是谁在哪里，然后呢被动作产生的对象。比如说用户的账户，这个水产生在这个订单的对象其实就是一个图书，还有呢员工都在看那个促销记录，那个谁呢？就是员工在哪里呢？就是自己的位置。这些信息就是绿的。纸条里面就有内容啊，所以不是冠军老师，也不是在于迅速客场，而是某个用户在某一个自己要买一本图书。下一步的就是黄叶子，小陈啊，就是我小女儿这个角色，这个角色是市场总监，这个员工是作为市场总监，所以他要什么查询一下整个企业的促销记录。他也同时是一个配货人，所以他要拿发一个包裹出去，所以呢不是作为小孩，而作为市场总监。最后一条呢就是蓝蓝颜色就是一个详细的描述，就是书的书的描述吧。不是之前公开的还是什么一本书非常写得非常好的一本书，让你的描述啊，这四个串起来就是什么四色分析法，是不是很简单？小学生跑了这里面啊，你看把一个很复杂的场景变成简单描述以后呢，基本上尸体跟直接上都出来了。这个事情啊，一般性绿色跟红色都会用实体或者聚合中来领取。红色和蓝色呢可以考虑种植对象，尤其是蓝色基本上都是对象，黄色还可以在职位上和实体之间有一个考量。这样的一套方法其实大家可以改，对吧，非常简单，所以它比较适合给业务人员沟通，是能够实现的嘛，有别克斯坦的就是统一的一点，不管你是业务人员，产品经理还是价格是还是研发人民那一套语言，把业务描述清楚。小学生都能懂，所以大家都可以懂吗？这第四种方法之所以为领域而拼，就因为什么它简单。干什么？他这个方法论其实不是那么完整，我们必须隆重推出第五种方法，为安老师最推荐的一个驱动设计的建模和切分的方法论。世界播报这是什么样的方法论呢？还是要解决什么样的问题呢？其实啊我们只想一想整个领域，你要拆分好整个领域你要建好这些问题很多。比如说我们的价格应该眼的也在了吧，你怎么样？我们能做到做一次的一个一个拆分的设计，以后呢每次这样拆分，这样设计，只要这些小的改动。不要再花我一天两天的时间，可能十分钟，20分钟我就能够优化我的整个领域的结构。优化我的这些值对象，这些实体聚合根的代码或者结构情况了呢。这是我第二个问题，我们在拆分过程当中啊，其实有很多系统是限制的。我没法猜的时候呢，我们整个代码要上分记录，那我们价格呢也要向老的环境进行兼容，怎么样才能让我们的整个微服务拆分不是你用化，而是能够兼容当主机兼容，当点具体的IP情况。除此以外还有什么？还有一个男女就是跟他说的，我们的业务人员要来参与的一些症状，才能够真正实现领域去决策，领域驱动设计，必须有电务人员的参与。至少也是产品经理之中比较熟悉业务的人员吧，你怎么样跟一个IP不同的外号？27是一个男人，还有最后一点就是什么？有没有一个方法能让大家和和气气的聊，不要去真挚的我们ig人员每次医疗技术叫争执，用到业务人员，按照这个产品经理，有时候你们就争执，你们的气氛就不相同了，就没法聊下去。我有方法能够可查，只要要听把问题解决的话，我也不拆分了呢，有世界风暴。这老师不要识别疯狂的叫什么叫水泡贴纸法然后呢然后呢他不需要有工具鱼肉啊，我的p啊，你不会没有关系，因为不需要任何电子化的工具，他全程都拿一个便利贴在那里贴纸。切的过程当中呢还全程在跑，所以你只要准备好你的嘴，然后呢拿好一刀纸，然后就可以完成微服务的拆分了，是不是？是不是很方便跟业务人员进行沟通吗？到底拆分过程会长什么样子呢？我们呢还是以前面的密一些项目。管理部之类为例啊，系统里面有三个系统，一个什么你的项目情况和核心的业务机，还有支撑他的什么协作的系统和一个通用的用户认证自己，那么这次呢我们针对椰子系统。你的项目是，如果大家实在看一下怎么样的一切在最后切分成这样一个一个一个的种草，那每一个种条呢其实什么就是一个微服务的，或者说是就是一个什么大的gate去喝。这是微服的拆分的第一大步，还有第二大步把这些服务和服务之间，聚合之间的关系梳理清楚。应该是同步标用还是这个消息它是需要提供怎么样的一些方法来运行沟通，我觉得每一个具体的聚合或者是里面应该提供哪些人员变量，把这些都聊清楚下。很方便的进行内土的设计和图的设计，不是说我们没有画图啊，是说什么整个世界风暴的过程当中，一直到拆封完所有湖，一直到把说的关联关系全部处理完了，全过程不需要画，只需要贴纸。但是呢后面的实际设计代码后面的实际进行这种系统的部署的时候，还是会用到支付宝里面的一些it架构的那些图，跟我们的产品经理跟我的什么业务方仅没有关系的全过程。在我们有产品经理和这有关参与的学过程当中，没有任何手段的参与，这才是我们世界风暴的亮点。聊完了这五种不同的我们的领域，建模领域，微服务拆分的思路，大家有没有什么倾向性啊？可以在QQ群里面那个非要老师互动一下。所以说你新闻当中哪一种方法好？是小学生方法好，还是世界通报？还是在传统三大类？具体的世界具体光内容我们会有好几节详细的内容放在后面，那下一节呢我们不了解，我们聊另外一个非常知名的问题，就是贫血充血模型的选择。这也是领域驱动设计一个经常会被面试练到的问题啊大，大家进新的。---

---

1-13

需要落地的桥梁构建新来不是张飞扬算一点呢，我们看了看五种不同的微服务拆分和领域模型设计的。好，讨论最近的我们来聊一些基本的概念，经常面试你们会问到的失血啊，贫血啊，充血啊，正确啊这些模型。简单来看，这么多模型呢，其实归类是太过理论化了，更加实在，有什么？掌握两个就可以了，一个是贫血，一个中学所谓血是什么血，其实就是一些业务逻辑。如果你在整个旅程是从里面每一层一般都是在的方法喜欢就是做c工程师。这种情况下你写出的代码基本上是属于贫血的，就是一个鲤鱼层啊，虽然把领域拆的很好，但是每个领域里面其实没太多业务逻辑。他大部分就是在多写一些数据，真正的业务会到哪里去了呢？到上次就校长去管理学校。他管理的很细，很多的校长压力很大，但是每一个班级呢就比较没有什么功能了。这班级里面学生就只会读书，也不会打架，不会打比赛，也不会去参加联谊的，就功能太单一了。这种模型呢也有很多我们传统的价格数据里面很多都是这样，甚至应该的方法都是帕布里，就是任何人都可以调用的。然后呢各个服务之间的互相调用就给它下下来操作通讯模型就是这样，通讯模型课你的叫说人话。更符合领域，宿舍用通俗的领域或者是用通俗的大家说人话的这种方式来进行沟通，他可以有私有的成员变量，也可以有很多次，那么这些概念呢都是私有的方法。会在外面封装一个比如public或者的这种方法来保护，或者说来丰富的。直到最后呢整个方法外面的用户调用的时候呢是一个动词，名词结合的，待会儿我们看一下实际代码他怎么样？说人话充血模型的特点就是它是应用逻辑为主，就是他要做很多的复杂的逻辑操作，所以这些操作都是动名词结合的。所动名词就会变成一个一个的方法，让实体让我们的聚会去用这种方法来对外提供服务。他不是以数据管理为主的，如果是数据管理为主的业务呢，很多时候有可能还是用传统的评选。我要看一下什么样子充血模型呢？就是前面的代码里面我们应该已经看到过，这只是后面大家在进行进一步观察。我去那天去终于把那个切到了我们的代电脑，然后呢还是这样聚合跟这个班的班长下面我们可以看到他有什么，他有很多的私有的成员变量。然后呢还有更多的什么对外提供的公有的服务和方法。比如说这个人吧，啊，再一个其实本质上已经看到他本质就是一个set。但他封装了一下，他不在的包装了，有一个动名词包装了，这种时候呢，当买第三方的用户或者说是应用才去调用它的时候，你知道我是在定义或者只配一个业务的优先级，而不是set。除此以外，他可能包装完以后会把一些事件的发布封装在里面，看看其他的吧。比如我们要分配一个故事，也就是分配的重要人天才能完成，其实本质还是在，但是呢不要把事件发布了放在一起。统一定性出，然后封装一个说人话，动力自己，我们看着这里面啥一个词。不是给成员变量。故意把set变成private，或许因为不要让机器人说的话，让别人能调用，只有说人话的那部分。我们的方法会被外面所调用，这就是聚合根的操作，那我们回过去啊，再看一下，除了聚合根以外呢还有什么？还有一些指对象。还有一些时我们找一个职位项孩子是的对象是一本书这书了就，这书的就没有限制，就是基本上输的方法基本上都是人人都可以用的，那没有什么事物一致性的要求，所以呢里面看到这里面很多方法，比如说计算优先级。计算成本他就直接说了我是什么计算一个cost，直接把名称一眼就让别人知道，然后呢他也是怕我们再回去看看有没有什么实体呢，也就是班级小组员。有pass就是一个班级主任，我们回到头上啊，他就是一个普通的n，他不是班长，他也有很多他自己的成员变量，然后他对外提供的服务呢，我们挑一个经典的吧。我们找一找啊。给一个任务呢分配一个志愿者，这是一个经典的服务，这个服务呢是用这个方法来实现什么方法动名字结合的一个说人话的一个方法，但这个方法也不是。他大部分的方法就让班长调用，另外呢就有一个声音就是班长，所以我们会把班级成员的方法呢都会变成已经在同一个包。我一个班级之内他们是可以互相使用的，班长可以调用其他关系的人呢，都没法调用他的这个方法，在方法的本质还是那个私有的。以及发布一个事件。对于事件呢我们后面再详细聊看一下是不是呃就是还是个四的方法，那他这里呢可以把方法设成Pro其实也可以变成我呢更推荐什么把所有的都被然后呢让我们的实体对外提供一些和三系的服务，让我们的指对象以及呢聚合根都结完，提供阿布。切回我们的鼻子。跟我聊了什么样是冲去过，然后呢这边大家传统的评选活动其实就是多了一次风格，多一次说人话的概念。什么样的模型更适合我们呢？那大家可以说面试怎么说充血模型好了也未必啊，我们要从这个角度来聊，就是一切的模型，一切的架构都没有灵感，应该是各有优劣。通常来讲贫血模型的好的就上的快，现在跟他一起很快就把什么毕竟这个数据库的读写能力写出来了，但是呢发展受限。你要打游戏一，你这个游戏的这个英雄很容易上手，小鲁班开枪，是吧？对，王者荣耀里面大家都没有啊，但是你要打的好，你要打的真正的王者他就蛮难的，这就是贫血的。那比较适合于应用逻辑非常简单，是以什么一信息记录为主，这种业务逻辑啊，你可以看一个特点，CPU内存消耗不高，30万硬盘读写或者网络读写都要什么的？这种就是适合自己。哪种适合与充实的模型？就是这个英雄上线很高，因为很难打的英雄。比如像不白就是有点难度的英雄呢，上手虽然可能难，但是未来的发展就比较好，那同样的这个领域的里面整个模型开始上的越南，但是呢未来有可能我们可以把它什么个代码结构组的非常漂亮，那这就是又通过的。那文字描述很清晰，他的逻辑呢更包含在我们的领域之内的，但是它也有不好地方，容易三高高铁，高血糖，高血压，其中一个高呢就是什么？我们有大量的跳转，是我们可以看到。本来说一句话，我们通过的外面包一层，然后后来还发一个世界，然后他其实还是干了一件事情。干嘛呢？其实行数变多了，毕竟经常有跳来跳去，跳来跳去的现象，从那个应用层他明天跳到技术架构，这个价格就是跳过领域，确实还有点头晕，对不对？广东上说可以不，感觉有点高，逐渐发展。比较强大的或者说是比较强大的鲤鱼价格的设计的时候呢，这是我突进模型就能展现的优势。它适合运用国际复杂，同时以信息处理为主体，这种业务的特点就是它好起来以后很占CPU内存，但是对io读写未必那么夸张，那就是充血模型。这两个模型呢是我们聊完以后，大家想一想，如果让你去设计一个简单的，比如像之前我想要那种宠物寄存系统，你应该用飞行模型开始中选模型呢。或者是让你涉及跑新型的金融衍生产品来从中获利，从中去谋取一些暴力。这么激动，就是应该用平准模型，它的中学模型都可以在图书群里面，就是我和夏老师来分享交流，那下一节呢我们会重点聊一聊DVD的一个审结架构洋出口模型，大家并且期待

---

1-14

需求到落地的桥梁车间i新的不是张飞有大一点呢，我们聊一聊贫血的中学细节的，我们来看一看洋葱圈模型。其实洋葱圈说本来就是一个洋葱头，就跟那个是不是把一个洋葱都给一刀切开了，就长掉了一层，又一层一层。这个模型呢其实跟我们之前说的四层模型其实是一一对应的，我们来看一下就是两个模型之间是怎样对应关系的，说从左边的上面的蓝颜色的来说展现的接口也就是我们平时mvc的c控制器的，恰好对应了洋葱圈模型的第二圈控制器。重点它是用来实现一个接口的设备，它可以是一个公益的界面的问题，也可以是一个一个rest API的环境或者是c的动的方式。就是说，对外提供的真正整个我要完成个业务的用力，应该是通过谁来完成，当然是效率的，不管你是半月发生的，利用你搞一个大型的军训或者是一个聘或者有效领导跨多个班级，跨多个是之前的组员，后来逐一去进行业务的处理和事件的转发，最后呢完成整个运营的所以我说这个模式你们一个一个就是的真正奇怪的大人，校领导应用也第三层。我英雄的吧，当然就是洋葱头的最核心的那个石什么事情？也就是其中的业务逻辑的部分，这才是真的是需要我们这种规模的切割切割的切换成一个一个的事物。一致性相关的班级的话，在班级上面展现各种上的能力，就是观察能力啊，就像我们关于能力以及班级配好他的什么，他的班主任，他的辅导员，还有一些校工。我这承担这样一个表情的是因此跟我洋葱头这个三层对应的。你自己的恰恰是一个婉转反转，我们的基础架构产品还在做，别人是最下面，但是六个地方确实最外层，而不是最外层。为什么会这样？还是就恰恰就是控制反转和意外反转，是不是我们的基础架构说白了什么可以用马克，所以做出了这个可以是农村，就像盲购基地呀，设计是文件系统啊，对象政策都可以实现满19块。这个时候呢是业务实体逻辑，你能行指定跑辅导员，辅导员说把这个数据集的19话就可以了。不用去关心自己使用追求追求，而是文件系统没有非常的，所以呢它的整个医药公司实现，然后就没有变关系，由外而内进行一代的，也就是世之后会需要用头网关会机带有网关，网关对接待遇依赖于应用服器，一个叫领等效影响到一个各个班级班级相关的那些辅导员，并且共同承载这些学校的管理，这种情况下呢，我们的业务逻辑可以自由发挥了，我不用关心我的持久化或者消息队列都有什么样的技术，就小怎么包括一些怎么发挥，这给我们的辩论逻辑的这个开发留下了很大的空间。我们天天模型重点聊的就是依赖，而左边的的四层模型的题，比如说总结，就是它其实跟传统的这个三层架构或者传统的资金架构其实是第一对应这两个其实就是一件事情的联合不同描述和我们是不是还有其他的描述，当然我们没有什么架构啊等等等等所有这些架构的非常酷的核心的计划。你的核心的模型在整个的所有的模型当中，中间层最核心的不要让他依赖，而让别人依赖于，他说父母可能是一个轻松的话，下面是一个整个领域上面非常大的难点。世界不管是工厂方法里面，或者是我们的聚合功课实体的常用的对外方法，你都能看到邻居时间的名字。再学呢我们就会聊一聊有时间的概念，你去看一看这个世界该如何用代码上进行开发，它的整个跳转逻辑应该是如何执行的。大家就去这。

----

1-15

需要这个漂亮说你还可以新来，我是张飞扬，那上一节呢我们聊了聊洋葱哥模型，这一节我们来看一看领域驱动里面比较难的一个概念就是遇事件。你什么时候有时间？我们世界是这张图的两个圆圈，就是两个关系，这两个端子是要沟通怎么办？你能知道从班级人有几条到班组？不怎么，是不是借把我们的所有的信息啊，就是网络介绍设计建筑时人自我这个班级内部的事务更新的时候呢，我觉得用于设计或者几条的方式来告知你。这种方法其实同步题有很多优势的，有什么优势啊？首先它是一种异步的扶贫方式。这就意味什么呢？当我的数据或者我的事物发生了变化以后，我不需要及时的让你进行编辑，我可以允许一些什么时间等待我可以实现最终的机型，只要你最终能够对应的进行处理。没有那么强，同时呢我们其实在生活当中你找到大量的事件驱动风格在哪？比如说觉得字里面的管道是这种时间驱动啊。大量现成的时间，希望你在代码是代码通常会应用的应用题，我会和我的时间实现事件的联动呢，我们把它改造改造成为聚合的聚合关系和班级，那这种情况下呢我们就可以很快的引申到我们第一的把你弄住了，那传统的投入用到我们满比较酷炫的努力驱动的。在哪的设计当中，除此以外还是挺好的，既然是重要并不舒服，自然会考虑什么这种交际对立。我可以帮助交通使用，对压力不高的时候呢，我们可以把这个峰值给交通一下，在压力很急的时候呢，我们可以把前面的压力逐步的在释放出来，这种情况下呢，两个三级就是一个缓冲期了。不是，我这个班节发现了一个特殊大的新闻。不知道对方这个称我们的，我们会逐一的过去。说了一些不好的地方，我不是很能知道，昨天在的时候被骂，被老师给结婚了。你们两个分子就是上课的时候怎么样充分传统的给截掉了，这导致什么信息都是那还有一种可能是其实我跟过去，但是对方没有不回来，也是回给我，回给我，对方没收到对我负责的小段，你的问题导致什么含量的信息的房子，特别是针对信息的传播，我们应该怎么做？我们应该实现什么？我们实现功能的那种，当我收到一个世界的时候呢，我会触发一个内部的功能，处理一些事物的请求。如果我们每次受到交通的时间，我们处置结果会不变，那这个时候呢一段实现那个我们就可以支撑重复这这段时间了吗？这是世界那个标点的区别，到底是一个事件都做好实现了，那我这里还有一张图片。就是不一定世界的实现，我们假设啊一直在开工设定为例啊。就我们俩出去加工了，他就没设计，当我在这个班级信息发给其他班级，他首先要会怎么使用？包工少，反正在工厂就不说了，我创建一个领域世界，那我们给大家看一下旅游世界这个电脑怎么写？先把这个世界成世界上面就是12点，然后有好几种射箭的方法，我们假设有三种键。不管是怎么样，直接发给一个事件发生，然后呢到其他班级都没有帮他解约，或者是其他班级的辅导员啊，或者是什么其他班级的对应的写。月的时间拿到这个时间以后，我把这个世界里面的内容我取出来，然后去修改这个班级里面班长的行为，这就是凝聚和通过事件发布，然后呢通过简单订阅最后的传给另外一个巨头，就说这是一种最简单的好不方式这几个缺点，这个世界只能在同一个电视之间传递。没法跨院，企业没法靠学校，那有没有一些复杂的设法呢？有我们换一些队友的点。这个这个还是通过实验发布器这是这种情况下就实现了。我们的我好的，同一个这个其实第一种呢是世界发布起，这是有聚合来完成的，当聚合发现事物越多了以后呢，我就会很担心。我们那就三级，但发生了一些故事以后呢，你先把这个故事发给那个事物发生。关于什么样变动啊？王大是三级跳出了个人说我们可以代表我们学校作为什么篮球303的助理抢劫是其他学校进行了，其实这个世界就发现了世界发布。就比我我自己做的要不是要不是有一个人来接收这个时间。我寝室的什么王大大气气管理员王大妈们收到第二个件，他把这个信息读取出来，放到学校的公告栏，这个订阅方呢就是同时间发布器，拿到实验以后。我说到哪里做到世界的一个存储通常是变成我们这些学校就是一个公告牌。这个学校呢默认情况下是应该有一个公告栏的，这个你们会不管哪些呢？公告某某学生或者什么什么大奖，因为某某学生呢考试五比得开，说真的。这次工作有王大锤他们搬进里面有三个人想来给他们篮球303并邀约同城的其他的各个高校PK谁才是篮球之王，这个时间第二步用完以后呢也就落在公告栏了。是第三部，通常是校领导来处理的，校领导呢会解封，根据公告的内容解封。我消息我消息绝对在我们四层结构里面的班级的班长班级的班长班级的班长往外的处理。不要过程，轻吃的这个王大妈知道把这个消息发布到学校的公告栏，他第三个消息呢是学校的领导通过销售队内说话式代言，最终把世界发给其他学校，我们来看一看代码里面在如何。还有实现这个步骤，其实啊这个其他学校也可以是自己学校，也就是说在同一个学校以及同一个面试时间沟通，我们也可以采用三步的策略。好所以所以可以实现跨学校不能构成也可以实现交通填好事不就说我们来看一看怎么样来实现这个领域实现的最大的三步走吧。



---

1-15

世界是这样一张图的，两个圆圈就是两个班级，这两个班级能沟通么？大从班级有一个几条到班级或者拿射击，射箭，把我们所有的信息啊这个绑在介绍是一直建模的时候，连自我这个班级内部啊，有事物更新的时候呢，我就这种设计或者纸条的方式来告知你。这样一这样一知方法其实比同步告知有很多优势的，有什么优势啊？首先它是一种异步的促进方式。这就意味着什么你能找到大量事件驱动风格的代码，比如说xx里面的管道是不是一种时间驱动啊？那么大量现成的时间驱动代码。通常和应用之间我会很模糊之间实现世界的联动的，我们把它改造改造成为聚合和聚合班级和班级，那这种情况下呢，我们就可以很快的引申到我们的滴滴的环境当中来。他传统的套路用到我们的比较酷炫的领域驱动的代码的设计当中。除此以外还有什么还有什么？既然是用到你们出去必然会考虑什么用交式对立高级队员可以帮助萧峰填空。对，压力特别高的时候呢，我们可以把这个峰值给消停一下，他压力很低的时候呢，我们可以把前面的压力逐步的在释放出来。这种情况下的两个班级就是一个缓冲区了，不是我这个班级发生了一些特殊大的新闻呢，我就把对方这个申报了。我们的点和我们的指标会逐一的发生过去，但这也带来一些不好的地方。我们有可能几条中间的时候被反被老师给截活了你们俩。上课的时候怎样互传纸条特别的针特别的针对信息的同胞们应该怎么做？我们应该实现了我们实现功能的目标，当我说到一个世界的时候呢，我们会触发一个内部的功能，处理一些事物的。我这个时候如果我们每次收到相同的事件处理结果会不变，那这个时候呢一旦实现你的来，你就可以支撑重复接收到时间了吧，这是世界的一呢？你看我这里还有一张图。是这个，我们假设一个开工射箭为力量，这王大锤断加工了，他准备事件把我的这个繁殖信息把你其他关系那首先要会怎么说？反正在工商这么说1月份的时间。1月份的时间。这个这个世界里面的内容读取最最简单的我们方式在这里的缺点，这个世界只能在同一个院系之间传递，没法跨院，企业，没法跨学校，这有没有一些复杂的事话呢？包括我们换一身绿色。这个这个还是通过去去修改对应的班级的班长或者整个班级的内部的失误与处理。我这个情况就实现了跨模块，跨我们的界面上下文。的的，通信的不是的，因为我全过程其实它没有落啊，我们还有一个这次的就是比较强烈的睡眠方法就是水质，我们也是对这个设计呢，我们会分成三管，先给大家理论上的感想，然后我们会从代码里面这三步在如何实现好的同一个镜头第一步设备世界发布起，那这是由聚合来完成的。就是我越多以后的我就是很担心转王大学班级一旦发生一些故事以后呢，先把这个公司发给一个事物发布机关，什么样变动啊？王大师三级跳出了三个人，我说我们可以代表我们学校为什么篮球33个多小时，其他学校进行的其实是这个世界就发展了世界发布起这第一个完成以后呢，第二步是第二步是有一个人来接收这个时间发挥性能的交通警示的什么？王大妈管理员，王大妈呢收到这样一个件，他把这个信息读取出来，放到学校的公告栏。这个地狱风呢就是从10点发过去，拿到时间以后要落盘做到哪里有很多的别人都知道世界的一个产品通常事变存储，我们这些学校就是一个公告栏，在一个学校呢贸易情况下是不应该有一个公告栏。这是一个通过哪些呢？通告某某学生获得什么什么大奖，另外某某觉得呢考试50被开除了等等。这次工作是王大锤，他们班级里面有三个人想来给他们篮球303。应邀约约的其他的各个高校PK谁才是篮球之王这样一个时间。我要给我弄完以后呢，也就是在公告栏是第三个，通常是校领导来处理的，校领导呢会写封信，根据公告的内容写个东西通过消息对面，因为消息队列四层结构里面领导求之领导求直线，这就是三个过程，第一个过程呢是满足王大锤子呢这个班级的班长往外的主流消息。第二个过程呢，请示的这个王亚娜把这个消息发布到学校的公告栏。第三个消息模式，学校的领导通过销售费率说话，是代言，最终把世界发展其他的项目，我们来看一看代码里面应该如何来实现这个三部分，其实啊这些其他学校也可以用自己学校，你就是说在同一个学校，已经同一个院校之间沟通，我们也可以。采用三步角色，就这三步走和前面的来有点劣势。有几个好处也好，说是完全肌肉番茄的活动跟王大妈的。我们领导活动独立，他同时呢因为有王大妈的参与呢，我们的所有世界的内容落盘了，所以我们可以追根溯源，就知道整个世界过程当中的所有的变化的情况，第3点就是效率接入的经过消息直接所以可以实现学校是不能够同时也可以实现交通好处不多说，我们来看一下怎么样来实现这个领域世界上最大的三步走吧。嗯

---

1-16

不对？我跟你一起上课的。看看他说还是你这个代办任务是个班长吧，那这次呢我们要看一下，当一个代办任务被安排到一个冲刺点的人，如何来进行处理？就是冲刺，如果大家不熟悉的，可以看一看后续章节，我们后面有专门的这个，还有什么项目管理上的。冲刺是敏捷项目常见的一个spring，它通常是比如说一周，两周或者一个月的时间。跟每一个代办的任务都要安排一个冲刺，里面才会有人们原来进行开发测试和发布。小说已经代办任务，我们找他，他被安排到冲刺，那这样它的这个作用方法是什么呢？我下观众就是虐的住这个名词指的是一个动名结合或者说是动物结合动词和副词结合的方式来表示，我把我的一个任务安排到肯定是道理。这样的话就会有人来完成的同时会在冲刺规定的时间进行内保证他能够定时定量的完成。我就只能过去了，其实有很多的assertion，就是我们前面说到什么规约基本的属性和约束和完成这些约束以后呢，它会进行一个查询。这里的value with你是一个查询，查询当前状态是不是为符合我们能够把这个任务发布给冲刺。如果符合以后呢，他就会把它实实在在的这样一个内部方法给安排，给这个安排完了以后呢，我们说过什么所有的这种类似是是在工厂方法的或者是那种公用方法的都会在做完以后呢会推荐是发一个世界的。看看有没有人来消费，这就是我们说的什么，你有一个事件出来。这个没有一个时间，就是我们刚刚的什么大工准备箭头啊，是剑放在弓上就要大工上线好。第一次看到了我们实际的领域世界的增长和我们看一下这个世界到底长啥样子啊，点进去。好，这就是第一个比喻实践这个领域实践呢？你在这？这是个旅游时间定义，哪怕这其中的什么构造函数，他说什么？他说我其实是实现了这样一个接口，这个接口呢就是由于时间的一个通用的结果，我给你看一下。这个活动呢是很多，是吧？很多的类里面都会有那个模式，在本质上领域实现最关键的是这个本科的啊，也就是一个时间是有什么它的时间属性。其他都可以买，必然有他的时间点，就是有这些时间在串联起一些事件的逻辑关系。我们回到这个我们这个定义出来的这个事情，这个是验证，不是老是IP没我就是说我一个带定任务，我发布到了一个那这样一个事情。他会有什么样的内容呢？他必然会有。你是哪个任务的iPhone不知道哪一个，还有出现的还是出货的关系。发生这个事件的时间，这样就基本模式，你就会通过抽象的逻辑的概念据线化把它放到领域时间里，就这个里面，实际上还有它的构造函数。你会的够多了，其就行了，把这些内部成员变量都是准备好了就可以，当这个事件发布完以后，我们看一下后面会成为什么样的操作。退回去就发布事情的过程或第二个问题都没人你完全发布的这个类的一个单例。我不知道包括一个叫的这个方法，就这个方法是把别的世界发出去的，这个呢就是我们说的开工射箭第一步。有班长把这个纸给掏出，我们看一下它的这个发出去以后呢。这个过程是吗？是会去找一个快乐的列表，所有能够接收世界的。我们逐一来匹配一下我们这个世界和你们接受的世界是不是相关啊？如果是相关，就有你这个订阅方来进行什么事件的处理？所以我们可以一发多收，我把这个建设出去以后呢，我们寝室里面可能有好几位体制管理员，我们寝室王大妈，李大妈都可以接受到这个世界，然后进行相应的处理。我就讲说王大妈说到这个事情，让我们看看她怎么来处理呢，我们看一下这个看到一半可以看到什么？这也是一个抽象的接口，这个接口呢我们它的具体实现我们大家看一看啊。嗯，有很多种不同的事件，我们讲这孩子在这些项目里面这个实现方法是什么？是大妈拿到世界以后的嘛，他会把所有的内容写到你这就是我们说的什么公告栏，那一个学校通常只有一个公告的，然后他把这个视频写到公告栏里面。王大锤所在的班级三个人。全市的，看看有没有人303篮球赛比他们更强的这个案子我们给你去看一下。你问的是道，就是我们说的公告栏。世界存储这个里面的有什么查询的这种方法就查出当前公告能力有哪些事件是需要处理的。还有呢刚刚是追加的方法，但它真正的具体实现什么，是有哪个题材第一次来实现的？这个也可以使用hibernate后台用来试试。我看看假设用哪些可用，怎么实现呢？先把这个世界序列化，然后呢层层一个叫做被存着的时间。一般就一个被存在的事情，然后呢把它通过提升的function进行知识物理执行的保存。最后呢把我也给承担调用这个方法，对吗？这个这个实际的调用方这就是一个视频的保存过程，就是把这个事件的写在了黑板上，写在我们公告栏的时候呢，变成一个可以蚊子描述的人，一句话写下来以后呢，第二步就完成了，就王大妈的使命就完成了。我校领导才能第三个我们，我们回到校园那里见面啊，好，这是希尔频道里面，当这个王大妈的任务完成以后呢，校领导该这么多，校领导会关注这个一个意思。这全校唯一的公告。一开始的校领导会嘛在初始化这个里面的四道指明这个里边的饲料是用什么样的这个存储方式，那这里是vivo，我们可以完全可以换成他们。的这个方式成功了以后呢还会指定嘛，有哪一个收到是代表来进行什么所有事件的转发，专门会有双方的代言，把相关的这个公告男人事件公告给全市所有的学校，也包含他自己啊，那这里选的是mp，如果大家对不熟悉，那我建议大家用q吧。在我们价格是一期的课程当中，有非常强的什么阿神老师单独有很多章节来着。我先简单说一下，mq其实就是一种标准的小缺点，那他们通常会有一个限制，这一次限制相当于这些你一旦指定好，我们这里是npm圈里面一个指定好这个的名称呢，对端的就是我们。一旦有人接收器专门去追踪这个队列，就会拿到相关的消息。好，我们来看一看啊，这个消息怎么样被发出去的呢？一旦这个消息队列准备好以后，这收官时代也找好，以后呢校领导会怎么样？会通过一个定时任务。允许的方式，这就是一个允许的方式，不对，他休息一段时间，然后自己还允许的话，然后调用或者是有些是黑色的这样一个具体的方法，不是一个层次的计算的方法。我们用实际的就点进去看，点了那个里面去看看具体吧，最终是调用叫的这样一个具体的话历史方法。和他的实现怎么感觉这样层层调用在我们自己写代码的过程当中最简化。就这里面只是我已经用了一个大家的他的这个代码，所以呢相对来说呢看上去有点很大，本质上大家可以进化到一次就要用都可以，我们看看它的时间啊。具体发送消息就好。刚刚我们说了，如果我们是比较熟悉q，那我们就看。好，我们看一下这个m具体的发送一个异步的消息，他发生的过程当中呢，他有什么追踪器啊？这些谁跟我没有关系？本质是什么？他是把所有的发送的这个准备工作包含是许可的选择队列全部呢在这里面进行完成。然后呢它会调用实际的这个它进行发送，我们看一下他位置发送的过程当中呢也是这个实现的序列化，然后呢通过实际的把这个消息给真真正正的发不出你们干啥说了吗？Send的过程当中会什么找到对应的这个车长，然后呢在这个签到里面调用对应的这个项链，就是我们刚刚说的敏捷项目。然后呢找到对应的q，最后呢把相关的和他的实际内容打包，统一调用那个非常知名的进行发送，一旦发送完以后呢，他就是把登到消息队列了，一个消息队列是可以有多个算的对的监听者，所以三个学校你的项目学校还有呢协作项目学校。以及用户认证这三个边界上下文的项目，学校都可以进。我收到这个实现在什么寒假就是这意思他怎他怎么样？我收到消息以后还有多种实现方法。对的，这个兵器它会有不同的处理方法，我们这里已经认为是哪一个界面的实践啊，是不是把那这样有时间，我们找到这个对应的这音效，这就是还是我们敏捷项目的学校，还是说话是代言，但这是可能是李大爷他在那监听嘛，有没有消息过了？说到消息以后呢，他看一下，嗯，确实是来自于按照这样的一个队列。来自这样对待的内容呢，我是需要接收的，然后我接收完以后怎么样？我把收到的消息冲取出来。通过一个这种跟都是人类的方式抽取，抽取完了以后呢不会看病，那看到什么ID已经呢没去，他把这些ID呢封装成一个建筑直信息或者叫什么value object值对象可以系统，然后呢再调用什么调用效林。这是肯定的，最终什么这个功能里面本质其实就是获取到这个ID获取到的信息以及获取的信息，然后来调用这个方法表面把收到的这个快递的信息呢发送给我们具体的词汇。好绕一大圈绕一大圈么样呢？先是什么？先是由王大锤把信息扔出去。然后呢有么王大妈这个什么寝室管理员写到校园的通告来，那最后呢有效领导指挥对应的这个说话是代言啊，这个信息呢发到全市的各个学校。在哪一个学校说的这个世界的还是这个学校的另外一个礼拜说了以后，然后找到校领导。最后这个教程到指派工作指标是谁啊？分给这个班级的接收，我们看一下这个班级的肯定在干什么事情，前段时间断言啊，我们可以跳过本质什么质。把这个收到这个他写到了自己的这个成员变量里面，就是也就是说我这个我接受下来，我就追加了一个任务，这就完成了什么两边的这个事物。当我们看到这个番茄发生了一个改变的我要把我这任务追加到某个柜里。最后要通过一堆的这个校领导啊，说话是大野啊，还有王大妈等等发给了另外一个班组，把他班里呢就是在帮你一下也是一个什么？也是一个班长或者是一个班级，就是一个这个专辑里面怎么函数肯定打出去，终于真真正正的说了那另外一个班级的内部成员变量进行了修改。这样不是两边好吃的，我不认为，我发给某个这个，也认为我增加了一个三的成员变量。这里要聊一下最后一个难点，就是当了一个班级里面包含班长的时候呢，我们要进行闯命令，看下这个白色其实不返回的是不是这个内部成员变量，而这个内部成员变量什么？这这是一个重命名的班级成员，来，我们填那个看一下，好，这里要强调一下这是什么，这是班级成员。3不是万达。班长下面是不能管更多的班长，因为别的班长跟你不在一个聚合，不在一个班级，但是你可以把对方班长换个面貌，本来是王大权，你可以把它变成王小锤归在自己班级里面，他这个转换面貌的过程当中呢会丢失很多数据可以看到。这个肯定是有很高的的代码，行数最多啊，就一百多，但是呢所有的使用变量和方法它的行数呢达到多少啊？我往下走啊。我说六百多，也就是说当一个班级的班长在什么在其他班里出现的时候，他会变一个面貌，这个变一个变化的过程当中的会减少很多的相关信息。啊，只有这个翻译和特殊信息跟省略了，这也就是我们比如说什么我们的bo层保持更多的信息。但是在应用和应用之间沟通的时候呢，是有这个集体多的概念不了，那这个呢会减少一部分引起当什么？这个班级拿到我们的班长信息的时候，他保存下来了，他已经是王小锤了，这个时候他所拥有的信息就已经很少了，就通过这种方式呢，我们完全有了嘛，我们大学的班级规模的班级。两分钟就有了，虽然王大锤在那边话，真的是王小翠成为了一个班子的成员变量，但这已经不是我党，也不是王大队班子的成长。好，聊完了，这么复杂的这个领域事件，如果大家还有疑问，对中间跳来跳去感觉有点奇怪，我们完全可以在QQ群里面进行详细沟通。好，回到新闻PPT啊，我们重新总结一下整个过程怎么样？当王大锤掉公告三对三篮球大赛的时候呢，他首先创建那个什么领域事件，然后呢把工架在什么工序上？后来发的第一件把这个内容啊通过世界发布器发布出去，这就完成了，我们这个这个要干到所有事情。就是他的事情了，然后呢有什么寝室管理员王大妈把这个信息读取好以后呢，塞到什么我们的这个公告栏，也就是一个世界存储上。这个试卷程度保存过程当中是吧？既实现了序列化，也实现了持久化，之后呢会有什么校领导找到对应的什么收发室大爷选用一种方式发布消息队列里并指定消息队列的队列名，一个签名把China等等等等。这个时候呢，同一城市所有学校的各个院区都开始什么通过消息队员来接收各个时间大家可能收的或关注的不同的效率对比。就这个时候呢恰巧是什么同一个敏捷项目，这个学校里面的另外一个什么收发室大爷收到这个时间以后呢，又把这个信息还回给了校领导。这个时候呢需要领导发现这次事件应该是有什么spring这个班级来处理，所以他就让spring的专辑出了三位篮球巨星，然后呢王大锤兄弟们，兄弟们开始在篮球场上干起来了，这个时候呢，我们的白天的信息就是你成功的注入。这里也有，我们百科里面也已挂在了什么相关的ID信息，那这两边联系起来了。好，聊完了左边里面领域事件这么复杂的一套流程，大家想一想，是不是所有我们聚合都要需要这样沟通，还不是我们还有什么来一次箭头的箭头，更清亮的事件发布和接收。大家可以模仿前面的复杂过程，把消息队列去除，把这个公告栏记住，简化它的流程来实现代码的快速开发。好，下一节呢我们会在领域世界这样的一个知识点基础上聊一聊cq2s一个经常在面试环节会跟大家聊的什么如何写命令可查询分离的这句话来大家这个

---

1-17

这些需求要落地的桥梁构建IP新来或是张飞呀。恭喜大家已经完成了最艰难的领域，世界原理和代码部分的内容，这一章节呢，我们聊一聊基于领域事件以及我们经常在面试当中碰到qs这些常见的概念和它们的实现手段。就这一点的相对清透来看一看什么是qs，它是command query responsibility就是写更多的责任分明。在这里呢，我们要看一下这个企业怎么界定啊，在qs里面是什么？是一个具体的执行行动，这个行动可能会改变，比如像聚合啊，实体啊，直接向里面的内容，但他要求呢所有的command必须返回，是也就是说我永远不足内容。我从来不会内容的读取，这样情况呢，我们就是干干净净的也修改，那就对了。只做条件，不修改，对，他们就每次快乐的都读出来，可能是实体，可能是指对象，但他永远不做任何内部成员变量或者内部的信息的修改。他这两个完全的拆封完以后呢，为我们后续是能保证事务的一致性，又能不同个屁。我们学习高中提供了一个预赛销量，说到cqrs其实我们都想一想啊。就什么样的代码风格是比较适合读出来的事件驱动管道过滤系统？我这几个风格怎么样在qs里面使用，怎么样才能够真正构建起事件委驱动的整体架构呢？我们后面会有一个这样的一个浪。万科老师给大家详细讲解事件驱动架构模式，那我这应该是抛出一个砖头作为一个椅子。我们需要光脚cq2s可能大家感觉说有点空，对不对？那我们要聊一聊什么？经常跟一起出现的一个es event事件，素颜。这两个概念经概念经去，虽然这节课我们不详细，比较具体的很细节很细的如何实现cs如何实现时间我们要把概念的也就也就是利用才我们的校长会说找一个模型来处理吧，这个模型呢只干修改这个事情。你去给我了以后呢，他会落到一个什么命令模型的存储单子上，那这个时候呢我们改完写库呢通常有两个方案，一个是平时我们用的传统的签证别的开发cdc记住什么写库和入库的同步机制是一种数据后机器，但我们的qs里面不是这样做。我们是用领域来实现写和读库的，怎么实现呢？命令模型会发起的世界，然后呢有一个世界订阅方，也就是我们说的什么说的王大妈寝室管理员，他为什么更新这个世界的内容可以起到一个多困这个他不是冰心的那个公告版啊，他直接更新到图库里面去写库和读库的数据的更新是通过一个领域里面的事件来进行完成的，这就是qs跟我们平时，的数据库的层，的读写分离的区别那这样的功能呢实现完了以后呢，基本上我们就是只要有修改都可以在这么写库里面得到，但是读库里面可能会有毫秒级，你就是分钟的延时。就是中间采用事件驱动的风格，那这是一种实现qs手段，那还有一种更加复杂也是更加流行的什么呢？就是下面就这张图都比上面那张图呢，其实我们不详细看，一步一步的区别，我们点一点最大的心。上面这种实行cos四的方法，它能实现增删改查所有内容，增加删除的改变都在什么命令摸清这里外层查询呢？在干嘛？在查询模型作业完成。对他的增删改查都是行，而事件溯源怎么样？世界溯源只干两件事。第一件事呢就是从左边往右边客户发起一个命令，我要修改句和里面的内容了，这个时候聚合能改完以后会发一个事件。我这个改我只是在CPU内存里面的内容改完以后发生时间说什么请把我改完的内容论坛吧。就这个世界上会怎么还是有个王大妈请示管理员接收到，然后呢起到那里这次写什么？写到我们的公告栏事件存储里面了，又是回到校园生活了，对吧？我们的王大锤，对吧？他作为班长发起一个事件，然后呢有王大妈请示管理员把他的写到我们的公告栏。那这个写完以后呢，还要记住这个永远是什么。挑一条最佳的，他不删除以前的肌肉，也不修改以前的记录，他是把每一个变更全部把这个变更的过程给增加了，行驶给球下来，所以呢通过这个事件存储，我们没法知道当前的最终状态。我支持了王大锤，说了什么话？一个话，两个画，三个画，四个话，其实我们没法确定到最终王王大锤对着整个这个篮球比赛这个活动变成层面，我们不知道，我们只知道中间发生了一件件事情，所以这个时候呢我们要需要有效领导或者院领导或者校工来做一件事，什么事？把右边这个事件存储的内容抽取出来，然后呢按照一定的顺序进行处理。我最终状态的计算出来，然后呢在这个状态进行一个什么快照切片，那把这个内容呢塞到我们的资源库，就是通过我们的对班级最佳熟悉的是谁呀？不是班主任还是辅导员，通过辅导员做形式把它落盘落到这个可查性的库里。那这个时候呢我们这个业务实现了两个功能，一个增资源的还是所有女友的变化我们全部指责不删不改，然后呢会把所有增加的内容堆叠成一个一个的快照，然后就快照其实我们当前状态，然后呢放到资源库里面核查，这个时候当左边的客户重新要查询当前我们王大师这个班级最终的篮球比赛的结果的时候呢，就不需要去事件存储的一条x制度，一条记录。直接读什么资源不就可以了，那一样的，它跟普通的qi它也是最终的执行。但是呢他比普通的cos有什么好处？当你发生灾难的时候，原来的qs有可能他的命令模型里面的数据丢失了，就没法回去到我们老的数据，而我们的世界存储里面是流于每一个时间点的数据，如果你是发生灾难，还是有的程序尝试的山库跑路。你都可以回滚到前一个状态，回滚到之前的任何一个，因为所有的状态变更的都在我们自己的记录，包含最后那条山库跑路。只要回滚到这个进入之前的数据，重构出我们的资源库，就能够回滚到任何一个是工作。所以呢event事件溯源既是一种熔断手段，也是一种逻辑保护手段，也是一种读写风雨手段，也是这种容易入手的。其实这么多标的人生是不是很酷炫啊？那我相信后面要让课老师会给大家更加精彩的讲解，通过电驱动架构设计的模型和框架，让大家真正了解的怎么样去实现去。还通过领域去设计呢，我自己提一点，就是一定要记住我们大学的班级还有王大妈的故事，已经本公告来这条线完成以后呢，你已经有了事情。他之后就需要小小的一把世界进行整理的快照就能完成远哭，那到底怎么样才最酷遵循还有敬请大家期待让课老师的章节版。好，我的下一张呢要是转另外一个话题，什么话题？我们我们一大建国五大微博。最酷炫，最潮的方法，世界风暴记住是世界风暴，不是世界术语啊，这两个名称有点像，但是完全不一样的世界溯源是实现多些分子不同手段，世界风暴是恢服务，拆分必不可少，就是最精彩的一种手段。大家敬请期待世界风暴的好几个小章节吧

---

。1-18

需要落地的桥梁构建新来，我是张飞扬，上一节呢我们聊了聊cis聊了聊是见素原在这一章节开始，我们就在进攻团最酷炫事件风暴领域建模的环节了，那整个环节呢可以分很多个小节。但是我们把全过程互相的理论就是操整个过程大概化一个小时左右的时间，完完整整的我们的敏捷项目这样一个整个的子系统完全给拆分开来。变成一个一个的维护，一个一个的聚合，以及聚合里面的十几个对象。就让我们的实证吧，哎呦，做一套系统的通常什么？我们来看一看跟他对应的竞标系统对标的系统是什么呢？就这样一个系统啊。好，马云那套在线的，你用项目管理系统，这套系统可不是敏捷系统啊，所以存在的一些缺陷，我们先来看一看跟我们对标的长什么样子，然后我们就可以从中考虑出户行为。从产品的速度应该怎么样来开发一套情况呢？首先呢正常已经系统里面也会有多个项目，或者说去多个产品。点击任何一个产品啊，进去我们看一看这个产品里面可有什么发挥的地方，通常的什么，这个产品里面最常用的方法就是看完了，这就是套看的。在看把里面的我们可以很方便的解释右上角新建任务，然后听这个标题是什么标题？然后呢在这里面定义一个协作人，是吧？所以负责人然后呢随时协作者不自己问呢，我们可以设置一些礼仪成碑，是要体验一下这种程碑在里程碑现在有这种老土了，通常我们会叫什么？我们会叫什么发布的？每一个里面其实都是一个发布，为了发布之前呢，我们有一个一周或两周这个开发时间，我们都要冲刺，所以先要把这个任务指定好未来的某个时间点发布，然后呢我要把它安排在某一个村子里面。那这个冲刺可以个冲刺可以发测试工程。以及未来发布做好准备，然后你要说一下开工啦，啊，这些文字打些标签，这到底是一个feature呢，还是一个什么bug？这其实是一个非常新的功能。那另外呢我们还可以是优先，这个优先机器有一点差了，对不对？应该是定了吧，我们这个项目如果做成功或者做个任务做成功以后有多少收益，对吧？做不成功有多少这个惩罚，除此以外呢，我们做它的时候呢，需要有多少的人进来？这些都应该做一个严重眼睛或者是作为重要的这些标注出来啊，除了这些以外还有什么？我先借出来再看啊。但是建出来以后就看到什么我们可以有多个人的，不管是我们的负责人还是我们协作者，都可以在这里进行评论和讨论。另外呢我们还可以关联更多的植物，同时我们这个任务是状态是待办的，就是什么也就是没有做代办代做，我们还可以把它拖到进行中，甚至于拖到已完成。不同的状态转移也是呢我们这种敏捷项目管理里面很重要，很核心的功能。看完了就看把你的大致功能啊我们心，来个什么优先级，优先级一一种设定或者表已分配好好，分配完游戏机以后呢，我们是不是还要给这个任务里面的这个具体的内容啊分配一些这个打分，对吧？也就是故事里面故事点有时看一下我们这个任务的复杂度，需要多少个人天来完成好故事连语分配，那也可能是一个比较重要的事件，公司还有什么？是不是还可以有一个叫做标签已添加，可不可以？我们刚刚其实是可以添加一些标签的，我们也签掉，就这b切尔这样的标签，对不对？标签一天降好还有什么功能？还有就是把它发布到真正的某一个什么某一个这个发布里面也就是任务的发布安排，任务发布及安排在这前面的发布安排是什么？就我创建好了一个发布是三周以后就这样一个火车发布。我把这个任务呢发布到这个火车发布里面，就叫任务发布安排，那同样道理呢，我们说从这周开始进了一个叫做什么什么什么。任务冲刺安排就是把这个任务分配到当前这个一这个冲刺里面，对不对？那还有什么？是不是还有一个讨论你创建？对，我们刚刚还说还可以创建讨论好，我们就是右边。要讨论。创建这些是我们从无到有过程当中经常会做的事情，对不对？我们都把它列在这里。好，立完以后呢是一个件公布了一条线弄好，那我们想一想，除了这些事件以外，还可能有些什么时间？我们最常见的就是什么增删改查都会有一个时间。如果产品创建完以后说肯定是，这两个做完以后呢，基本上主要的把我们的世界就已经完成了，这就完成了世界风暴的第一步，在吹牛打屁和什么？我们产品经理和我们业务负责人建立好良好关系的过程当中就完成了世界风暴的第一步，那下一步呢我们就会进入进入命令，红包上大家期待。嗯





























